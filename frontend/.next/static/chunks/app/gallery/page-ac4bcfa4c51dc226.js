(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3928],{42051:function(e,l,t){Promise.resolve().then(t.bind(t,20631))},20631:function(e,l,t){"use strict";t.d(l,{default:function(){return r}});var s=t(57437),i=t(2265);function a(e){let{item:l,onOpen:t}=e,a=Array.isArray(null==l?void 0:l.images)?l.images:[],n=Array.isArray(null==l?void 0:l.videos)?l.videos:[],r=Array.isArray(null==l?void 0:l.youtubeLinks)?l.youtubeLinks:[],o=(0,i.useMemo)(()=>[...a.map(e=>({type:"image",src:e})),...n.map(e=>({type:"video",src:e})),...r.map(e=>({type:"youtube",src:e}))].filter(e=>null==e?void 0:e.src).slice(0,4),[a,n,r]),c=e=>(null==e?void 0:e.src)||"";return(0,s.jsx)("button",{type:"button",onClick:t,className:"group w-full text-left overflow-hidden rounded-2xl border border-[#dfe8e2] bg-white hover:shadow-lg hover:shadow-[#2F8D59]/12 transition transform hover:-translate-y-0.5",children:(0,s.jsxs)("div",{className:"overflow-hidden",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 grid-rows-2 gap-1 aspect-[3/2] bg-[#e8f0ea]",children:[0===o.length&&(0,s.jsx)("div",{className:"col-span-2 row-span-2 bg-[#e8f0ea]"}),1===o.length&&(0,s.jsxs)("div",{className:"col-span-2 row-span-2 relative",children:[(0,s.jsx)("img",{src:c(o[0]),alt:(null==l?void 0:l.title)||"Gallery image",className:"w-full h-full object-cover",loading:"lazy"}),"image"!==o[0].type&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:(0,s.jsx)("span",{className:"text-white text-2xl",children:"▶"})})]}),o.length>1&&o.map((e,t)=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:c(e),alt:(null==l?void 0:l.title)||"Gallery image",className:"w-full h-full object-cover",loading:"lazy"}),"image"!==e.type&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:(0,s.jsx)("span",{className:"text-white text-lg",children:"▶"})})]},t))]}),(0,s.jsxs)("div",{className:"p-3 space-y-1",children:[(null==l?void 0:l.title)&&(0,s.jsx)("p",{className:"text-[#10231a] text-sm font-semibold line-clamp-1",children:l.title}),(null==l?void 0:l.description)&&(0,s.jsx)("p",{className:"text-[#4c5f68] text-xs line-clamp-2",children:l.description})]})]})})}function n(e){let{item:l,onClose:t}=e,a=(0,i.useMemo)(()=>[...((null==l?void 0:l.images)||[]).map(e=>({type:"image",src:e})),...((null==l?void 0:l.videos)||[]).map(e=>({type:"video",src:e})),...((null==l?void 0:l.youtubeLinks)||[]).map(e=>({type:"youtube",src:e}))].filter(e=>null==e?void 0:e.src),[l]),[n,r]=(0,i.useState)(0),[o,c]=(0,i.useState)(null),d=a.length>0,u=d?a[n]:null,m=(0,i.useCallback)(()=>{d&&r(e=>(e+1)%a.length)},[d,a.length]),h=(0,i.useCallback)(()=>{d&&r(e=>(e-1+a.length)%a.length)},[d,a.length]);return(0,i.useEffect)(()=>{function e(e){"Escape"===e.key&&t(),"ArrowRight"===e.key&&m(),"ArrowLeft"===e.key&&h()}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[m,h,t]),(0,i.useEffect)(()=>{let e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[]),(0,s.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center px-4",onClick:t,children:(0,s.jsxs)("div",{className:"relative w-full max-w-6xl bg-white rounded-2xl overflow-hidden border border-[#dfe8e2]",onClick:e=>e.stopPropagation(),onTouchStart:e=>c(e.touches[0].clientX),onTouchEnd:e=>{if(null===o)return;let l=e.changedTouches[0].clientX-o;Math.abs(l)>50&&(l>0?h():m()),c(null)},children:[(0,s.jsx)("button",{onClick:t,className:"absolute top-3 right-3 bg-black/60 text-white rounded-full px-3 py-1 text-sm hover:bg-black/80","aria-label":"Close",children:"✕"}),(0,s.jsxs)("div",{className:"pt-10 pb-4 px-6 text-center space-y-2",children:[(null==l?void 0:l.title)&&(0,s.jsx)("p",{className:"text-xl font-semibold text-[#10231a]",children:l.title}),(null==l?void 0:l.description)&&(0,s.jsx)("p",{className:"text-sm text-[#4c5f68] line-clamp-2 mx-auto max-w-3xl",children:l.description})]}),(0,s.jsxs)("div",{className:"relative px-4 pb-6",children:[(0,s.jsxs)("div",{className:"w-full overflow-hidden rounded-xl border border-[#dfe8e2] bg-[#0b0d10]",children:[(null==u?void 0:u.type)==="image"&&(0,s.jsx)("div",{className:"w-full flex items-center justify-center bg-black",children:(0,s.jsx)("img",{src:u.src,alt:(null==l?void 0:l.title)||"Gallery image",className:"w-full max-h-[70vh] object-contain"})}),(null==u?void 0:u.type)==="youtube"&&(0,s.jsx)("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:(0,s.jsx)("iframe",{src:u.src,className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:(null==l?void 0:l.title)||"Gallery video"})})]}),a.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:h,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 text-[#10231a] rounded-full w-10 h-10 flex items-center justify-center shadow hover:bg-white","aria-label":"Previous",children:"←"}),(0,s.jsx)("button",{onClick:m,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 text-[#10231a] rounded-full w-10 h-10 flex items-center justify-center shadow hover:bg-white","aria-label":"Next",children:"→"})]})]}),a.length>1&&(0,s.jsx)("div",{className:"pb-4 flex justify-center gap-2",children:a.map((e,l)=>(0,s.jsx)("button",{"aria-label":"Go to slide ".concat(l+1),onClick:()=>r(l),className:"h-2 w-2 rounded-full transition ".concat(l===n?"bg-[#2F8D59]":"bg-[#dfe8e2] hover:bg-[#b7d0c2]")},l))})]})})}function r(e){let{items:l=[]}=e,[t,r]=(0,i.useState)(null);return l&&0!==l.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-5 md:gap-6",children:l.map(e=>(0,s.jsx)(a,{item:e,onOpen:()=>r(e)},e._id))}),t&&(0,s.jsx)(n,{item:t,onClose:()=>r(null)})]}):(0,s.jsx)("div",{className:"bg-white border border-[#dfe8e2] rounded-2xl p-8 text-center text-[#4c5f68]",children:"No gallery items yet. Please check back soon."})}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=42051)}),_N_E=e.O()}]);