(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9778],{78957:function(e,t,n){Promise.resolve().then(n.bind(n,3488))},3488:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var a=n(57437),s=n(2265),r=n(32617),i=n(66610);function l(){let[e,t]=(0,s.useState)([]),[n,l]=(0,s.useState)(""),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),f=async()=>{c(!0);try{let e=await (0,r.R1)("/treatment-types");t((null==e?void 0:e.data)||e||[])}catch(e){console.error("Treatment types load error:",e)}finally{c(!1)}};(0,s.useEffect)(()=>{f()},[]);let m=async()=>{if(n.trim()){u(!0);try{await (0,r.sg)("/treatment-types",{name:n.trim()}),l(""),await f()}catch(e){alert((0,i.i)(e,"Failed to add treatment type"))}finally{u(!1)}}},h=async e=>{if(confirm("Delete this treatment type?"))try{await (0,r.QW)("/treatment-types/".concat(e)),await f()}catch(e){alert((0,i.i)(e,"Failed to delete treatment type"))}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-white",children:"Treatment Types"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Manage reusable treatment type labels for packages."})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsx)("input",{value:n,onChange:e=>l(e.target.value),placeholder:"Treatment type name",className:"flex-1 bg-slate-900 border border-slate-800 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500"}),(0,a.jsx)("button",{onClick:m,disabled:d,className:"inline-flex items-center justify-center px-5 py-3 rounded-lg bg-teal-600 hover:bg-teal-500 text-white font-semibold transition disabled:opacity-70",children:d?"Adding...":"Add"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[o&&(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"Loading..."}),!o&&0===e.length&&(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"No treatment types added yet."}),e.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center border border-slate-800 rounded-lg px-4 py-3 bg-slate-900",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:e.slug})]}),(0,a.jsx)("button",{onClick:()=>h(e._id),className:"text-red-400 text-sm hover:text-red-300",children:"Delete"})]},e._id))]})]})}},32617:function(e,t,n){"use strict";n.d(t,{QW:function(){return d},R1:function(){return l},f8:function(){return r},nc:function(){return u},pE:function(){return c},sg:function(){return o}});let a="http://localhost:5000/api".replace(/\/$/,""),s=a.endsWith("/api")?a:"".concat(a,"/api");function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.startsWith("/")?e:"/".concat(e),n="".concat(s).concat(t);return console.log("[api] request url:",n),n}async function i(e){let t=await e.json().catch(()=>({}));if(!e.ok){let n=Error((null==t?void 0:t.message)||"Request failed");throw n.status=e.status,n}return t}async function l(e){return i(await fetch(r(e),{method:"GET",credentials:"include"}))}async function o(e,t){let n="undefined"!=typeof FormData&&t instanceof FormData;return i(await fetch(r(e),{method:"POST",credentials:"include",headers:n?void 0:{"Content-Type":"application/json"},body:n?t:JSON.stringify(t||{})}))}async function c(e,t){let n="undefined"!=typeof FormData&&t instanceof FormData;return i(await fetch(r(e),{method:"PUT",credentials:"include",headers:n?void 0:{"Content-Type":"application/json"},body:n?t:JSON.stringify(t||{})}))}async function d(e){return i(await fetch(r(e),{method:"DELETE",credentials:"include"}))}async function u(e,t){return i(await fetch(r(e),{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t||{})}))}},66610:function(e,t,n){"use strict";function a(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong";if(!e)return n;let a=(null===(t=e.response)||void 0===t?void 0:t.data)||e.data;if((null==a?void 0:a.errors)&&"object"==typeof a.errors){let e=Object.values(a.errors).flatMap(e=>Array.isArray(null==e?void 0:e._errors)?e._errors:[]).filter(Boolean);if(e.length)return e.join(", ")}return(null==a?void 0:a.message)?a.message:"string"==typeof e?e:e.message?e.message:n}n.d(t,{i:function(){return a}})}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=78957)}),_N_E=e.O()}]);