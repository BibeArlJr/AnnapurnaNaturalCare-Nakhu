(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4619],{13647:function(e,t,a){Promise.resolve().then(a.bind(a,40926))},40926:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var s=a(57437),n=a(2265),l=a(32617),r=a(66610),i=a(43836),c=a(99588),o=a(61601);let d={name:"",slug:"",description:"",status:"active"};function u(){let[e,t]=(0,n.useState)([]),[a,u]=(0,n.useState)(!0),[m,x]=(0,n.useState)(!1),[h,f]=(0,n.useState)(d),[g,p]=(0,n.useState)(null),[b,v]=(0,n.useState)(!1),[y,j]=(0,n.useState)(!1),w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toString().toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")},N=async()=>{u(!0);try{let e=await (0,l.R1)("/course-categories");t((null==e?void 0:e.data)||e||[])}catch(e){console.error("Category load error:",e)}finally{u(!1)}};(0,n.useEffect)(()=>{N()},[]);let C=e=>{p(e),f({name:e.name||"",slug:e.slug||"",description:e.description||"",status:e.status||"active"}),j(!0),x(!0)},k=e=>{let{name:t,value:a}=e.target;if("name"===t&&!y){f(e=>({...e,name:a,slug:w(a)}));return}"slug"===t&&j(!0),f(e=>({...e,[t]:a}))},E=async()=>{if(!h.name.trim()){alert("Name is required");return}v(!0);try{let e={name:h.name,slug:h.slug,description:h.description,status:h.status};g?await (0,l.pE)("/course-categories/".concat(g._id),e):await (0,l.sg)("/course-categories",e),x(!1),p(null),f(d),N()}catch(e){alert((0,r.i)(e,"Failed to save category"))}finally{v(!1)}},S=async e=>{if(confirm("Delete this category?"))try{await (0,l.QW)("/course-categories/".concat(e)),N()}catch(e){alert((0,r.i)(e,"Delete failed"))}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-white",children:"Course Categories"}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"Manage dynamic categories for courses."})]}),(0,s.jsxs)("button",{onClick:()=>{f(d),p(null),j(!1),x(!0)},className:"inline-flex items-center gap-2 bg-teal-600 hover:bg-teal-500 text-white px-4 py-2 rounded-lg transition",children:[(0,s.jsx)(i.Z,{className:"h-5 w-5"}),"Add Category"]})]}),a?(0,s.jsx)("p",{className:"text-slate-400 text-sm",children:"Loading..."}):0===e.length?(0,s.jsx)("div",{className:"text-slate-400 text-sm bg-slate-900 border border-slate-800 rounded-lg p-6",children:"No categories yet."}):(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(e=>(0,s.jsxs)("div",{className:"rounded-xl border border-white/10 bg-[#0f131a] p-4 space-y-3 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-white font-semibold line-clamp-2",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-slate-400",children:e.slug})]}),(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-xs ".concat("active"===e.status?"bg-green-900/60 text-green-300":"bg-slate-800 text-slate-300"),children:e.status})]}),(0,s.jsx)("p",{className:"text-sm text-slate-300 line-clamp-3",children:e.description}),(0,s.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,s.jsxs)("button",{onClick:()=>C(e),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-100 text-sm",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),"Edit"]}),(0,s.jsxs)("button",{onClick:()=>S(e._id),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-red-900/60 hover:bg-red-800 text-red-100 text-sm",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),"Delete"]})]})]},e._id))}),m&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center px-4 py-8",children:(0,s.jsxs)("div",{className:"w-full max-w-3xl max-h-[90vh] bg-[#0f131a] border border-white/10 rounded-2xl shadow-2xl overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-800",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:g?"Edit Category":"Add Category"}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"Dynamic categories for courses."})]}),(0,s.jsx)("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-white text-xl leading-none",children:"\xd7"})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm text-slate-300",children:"Name"}),(0,s.jsx)("input",{name:"name",value:h.name,onChange:k,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm text-slate-300",children:"Slug (optional)"}),(0,s.jsx)("input",{name:"slug",value:h.slug,onChange:k,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Auto from name if left blank"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm text-slate-300",children:"Description"}),(0,s.jsx)("textarea",{name:"description",value:h.description,onChange:k,rows:3,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm text-slate-300",children:"Status"}),(0,s.jsxs)("select",{name:"status",value:h.status,onChange:k,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,s.jsxs)("div",{className:"px-6 py-4 border-t border-slate-800 flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:()=>x(!1),className:"px-4 py-2 rounded-lg bg-slate-800 text-white",children:"Cancel"}),(0,s.jsx)("button",{onClick:E,disabled:b,className:"px-4 py-2 rounded-lg bg-teal-600 text-white disabled:opacity-60",children:b?"Saving...":g?"Save changes":"Create Category"})]})]})})]})}},32617:function(e,t,a){"use strict";a.d(t,{QW:function(){return o},R1:function(){return r},nc:function(){return d},pE:function(){return c},sg:function(){return i}});let s="http://localhost:5000/api".replace(/\/$/,""),n="".concat(s,"/api");async function l(e){let t=await e.json().catch(()=>({}));if(!e.ok){let a=Error((null==t?void 0:t.message)||"Request failed");throw a.status=e.status,a}return t}async function r(e){return l(await fetch("".concat(n).concat(e),{method:"GET",credentials:"include"}))}async function i(e,t){let a="undefined"!=typeof FormData&&t instanceof FormData;return l(await fetch("".concat(n).concat(e),{method:"POST",credentials:"include",headers:a?void 0:{"Content-Type":"application/json"},body:a?t:JSON.stringify(t||{})}))}async function c(e,t){let a="undefined"!=typeof FormData&&t instanceof FormData;return l(await fetch("".concat(n).concat(e),{method:"PUT",credentials:"include",headers:a?void 0:{"Content-Type":"application/json"},body:a?t:JSON.stringify(t||{})}))}async function o(e){return l(await fetch("".concat(n).concat(e),{method:"DELETE",credentials:"include"}))}async function d(e,t){return l(await fetch("".concat(n).concat(e),{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t||{})}))}},66610:function(e,t,a){"use strict";function s(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong";if(!e)return a;let s=(null===(t=e.response)||void 0===t?void 0:t.data)||e.data;if((null==s?void 0:s.errors)&&"object"==typeof s.errors){let e=Object.values(s.errors).flatMap(e=>Array.isArray(null==e?void 0:e._errors)?e._errors:[]).filter(Boolean);if(e.length)return e.join(", ")}return(null==s?void 0:s.message)?s.message:"string"==typeof e?e:e.message?e.message:a}a.d(t,{i:function(){return s}})},99588:function(e,t,a){"use strict";var s=a(2265);let n=s.forwardRef(function(e,t){let{title:a,titleId:n,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),a?s.createElement("title",{id:n},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))});t.Z=n},43836:function(e,t,a){"use strict";var s=a(2265);let n=s.forwardRef(function(e,t){let{title:a,titleId:n,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),a?s.createElement("title",{id:n},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});t.Z=n},61601:function(e,t,a){"use strict";var s=a(2265);let n=s.forwardRef(function(e,t){let{title:a,titleId:n,...l}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),a?s.createElement("title",{id:n},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});t.Z=n}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=13647)}),_N_E=e.O()}]);