(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8199],{24950:function(e,a,t){Promise.resolve().then(t.bind(t,13429))},13429:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return y}});var s=t(57437),l=t(29),d=t.n(l),i=t(2265),r=t(30166),o=t(32617),n=t(66610),c=t(43836),x=t(28818),m=t(99588),p=t(61601),u=t(14663);t(98527);let f=(0,r.default)(()=>Promise.all([t.e(3070),t.e(1804)]).then(t.t.bind(t,5600,23)),{loadableGenerated:{webpack:()=>[5600]},ssr:!1}),h=[{value:"inside_valley",label:"Inside Valley"},{value:"outside_valley",label:"Outside Valley"}],j=[{value:"hospital_premium",label:"Hospital premium"},{value:"partner_hotel",label:"Partner hotel accommodation"},{value:"own_arrangement",label:"Own arrangement"}],g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map(e=>{var t;let s=a.find(a=>a.key===e),l=(null===(t=j.find(a=>a.value===e))||void 0===t?void 0:t.label)||e;return s?{...s,key:e,label:s.label||l}:{key:e,label:l,pricePerPersonUSD:""}})},b={title:"",slug:"",descriptionShort:"",descriptionLong:"",programType:"inside_valley",durationDays:"",pricePerPersonUSD:"",selectedDestinationIds:[],allowAccommodationChoice:!1,accommodationOptions:[],hospitalPremiumPrice:"",included:[""],alwaysIncludesAirportPickup:!1,coverImage:"",coverFile:null,galleryList:[],isActive:!0,promoVideo:"",videoFile:null,accommodationPricing:[]};function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toString().toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function y(){let[e,a]=(0,i.useState)([]),[t,l]=(0,i.useState)(!0),[r,y]=(0,i.useState)(!1),[N,w]=(0,i.useState)(b),[P,k]=(0,i.useState)(null),[C,D]=(0,i.useState)(!1),[S,I]=(0,i.useState)(!1),[A,U]=(0,i.useState)([]),[L,_]=(0,i.useState)(!1),[O,T]=(0,i.useState)(null),F=async()=>{l(!0);try{let e=await (0,o.R1)("/retreat-programs?includeDrafts=true"),t=(null==e?void 0:e.data)||e||[];a(t)}catch(e){console.error("Retreat programs load error:",e)}finally{l(!1)}};(0,i.useEffect)(()=>{F()},[]),(0,i.useEffect)(()=>{(async()=>{try{let e=await (0,o.R1)("/retreat-destinations?type=".concat(N.programType));U((null==e?void 0:e.data)||e||[]),_(!1)}catch(e){console.error("Retreat destinations options error:",e)}})()},[N.programType]);let R=e=>{var a,t,s,l,d,i,r,o,n;k(e),I(!0);let c=(null===(a=e.accommodation)||void 0===a?void 0:a.options)||e.accommodationOptions||[],x=g(c,e.accommodationPricing||[]),m=null!==(r=null!==(i=null==e?void 0:null===(t=e.accommodation)||void 0===t?void 0:t.hospitalPremiumPrice)&&void 0!==i?i:null===(s=x.find(e=>"hospital_premium"===e.key))||void 0===s?void 0:s.pricePerPersonUSD)&&void 0!==r?r:"";w({...b,...e,durationDays:e.durationDays||"",pricePerPersonUSD:e.pricePerPersonUSD||"",selectedDestinationIds:(e.destinations||[]).map(e=>(null==e?void 0:e._id)||e),accommodationOptions:c,accommodationPricing:x,hospitalPremiumPrice:void 0===m?"":m,allowAccommodationChoice:null!==(n=null!==(o=null===(l=e.accommodation)||void 0===l?void 0:l.allowAccommodationChoice)&&void 0!==o?o:e.allowAccommodationChoice)&&void 0!==n&&n,included:(null===(d=e.included)||void 0===d?void 0:d.length)?e.included:[""],galleryList:(e.galleryImages||[]).map(e=>({url:e,file:null})),coverImage:e.coverImage||"",coverFile:null,promoVideo:e.promoVideo||"",videoFile:null}),y(!0)},V=()=>{y(!1),k(null),w(b)},E=e=>{let{name:a,value:t,type:s,checked:l}=e.target;if("programType"===a){w(e=>({...e,programType:t,selectedDestinationIds:[]})),_(!1);return}if("title"===a&&!S){let e=v(t);w(a=>({...a,title:t,slug:e}));return}if("slug"===a){I(!0),w(e=>({...e,slug:v(t)}));return}if("promoVideo"===a){w(e=>({...e,promoVideo:t,videoFile:null}));return}let d="checkbox"===s?l:t;w(e=>({...e,[a]:d}))},q=e=>{w(a=>{let t=a.selectedDestinationIds.includes(e);return{...a,selectedDestinationIds:t?a.selectedDestinationIds.filter(a=>a!==e):[...a.selectedDestinationIds,e]}})},G=e=>{w(a=>{var t;let s=[...a.galleryList],[l]=s.splice(e,1);return(null==l?void 0:l.file)&&(null===(t=l.url)||void 0===t?void 0:t.startsWith("blob:"))&&URL.revokeObjectURL(l.url),{...a,galleryList:s}})},W=e=>{w(a=>{let t=a.accommodationOptions.includes(e),s=a.accommodationPricing||[];if(t)s=s.filter(a=>a.key!==e);else{var l;let a=(null===(l=j.find(a=>a.value===e))||void 0===l?void 0:l.label)||e;s=[...s,{key:e,label:a,pricePerPersonUSD:0}]}return{...a,accommodationOptions:t?a.accommodationOptions.filter(a=>a!==e):[...a.accommodationOptions,e],accommodationPricing:s}})},J=(e,a)=>{w(t=>{let s=[...t.included];return s[e]=a,{...t,included:s}})},z=e=>{w(a=>({...a,included:a.included.filter((a,t)=>t!==e)}))},H=(0,i.useMemo)(()=>{let e=N.galleryList.filter(e=>!e.file).map(e=>e.url),a=""===N.hospitalPremiumPrice||null===N.hospitalPremiumPrice?0:Number(N.hospitalPremiumPrice);return{title:N.title,slug:N.slug,descriptionShort:N.descriptionShort,descriptionLong:N.descriptionLong,programType:N.programType,durationDays:N.durationDays?Number(N.durationDays):void 0,pricePerPersonUSD:""===N.pricePerPersonUSD||null===N.pricePerPersonUSD?void 0:Number(N.pricePerPersonUSD),allowAccommodationChoice:N.allowAccommodationChoice,accommodationOptions:N.accommodationOptions,hospitalPremiumPrice:a,accommodationPricing:[{key:"hospital_premium",label:"Hospital premium",pricePerPersonUSD:a}],destinations:N.selectedDestinationIds,included:N.included.filter(e=>e&&e.trim()),alwaysIncludesAirportPickup:N.alwaysIncludesAirportPickup,coverImage:N.coverImage,galleryImages:e,promoVideo:N.videoFile?"":N.promoVideo,isActive:N.isActive}},[N]),M=async()=>{if(!N.title.trim()){alert("Title is required");return}D(!0);try{let e=new FormData;e.append("title",H.title||""),H.slug&&e.append("slug",H.slug),H.descriptionShort&&e.append("descriptionShort",H.descriptionShort),H.descriptionLong&&e.append("descriptionLong",H.descriptionLong),H.programType&&e.append("programType",H.programType),H.durationDays&&e.append("durationDays",H.durationDays),void 0!==H.pricePerPersonUSD&&e.append("pricePerPersonUSD",H.pricePerPersonUSD),e.append("allowAccommodationChoice",H.allowAccommodationChoice?"true":"false"),e.append("alwaysIncludesAirportPickup",H.alwaysIncludesAirportPickup?"true":"false"),e.append("isActive",H.isActive?"true":"false"),H.accommodationOptions.forEach(a=>e.append("accommodationOptions",a)),void 0!==H.hospitalPremiumPrice&&e.append("hospitalPremiumPrice",H.hospitalPremiumPrice),H.destinations.forEach(a=>e.append("destinations",a)),H.included.forEach(a=>e.append("included",a)),H.accommodationPricing.forEach(a=>{e.append("accommodationPricing",JSON.stringify(a))}),N.coverFile?e.append("coverImage",N.coverFile):H.coverImage&&e.append("coverImage",H.coverImage),N.videoFile?e.append("promoVideo",N.videoFile):void 0!==H.promoVideo&&e.append("promoVideo",H.promoVideo||""),H.galleryImages.forEach(a=>e.append("galleryImages",a)),N.galleryList.filter(e=>e.file).forEach(a=>e.append("galleryImages",a.file));let a="http://localhost:5000/api".replace(/\/$/,""),t="".concat(a,"/api/retreat-programs").concat(P?"/".concat(P._id):""),s=await fetch(t,{method:P?"PUT":"POST",body:e,credentials:"include"}),l=await s.json().catch(()=>({}));if(!s.ok)throw Error((0,n.i)({data:l},"Failed to save program"));await F(),V()}catch(e){alert((0,n.i)(e,"Failed to save program"))}finally{D(!1)}},Z=async e=>{if(confirm("Delete this retreat program?"))try{await (0,o.QW)("/retreat-programs/".concat(e)),await F()}catch(e){alert((0,n.i)(e,"Failed to delete program"))}},$=async e=>{try{await (0,o.pE)("/retreat-programs/".concat(e._id),{isActive:!e.isActive}),await F()}catch(e){alert((0,n.i)(e,"Failed to update status"))}},B=(e,t)=>{a(a=>a.map(a=>a._id===e?{...a,status:t}:a))},Q=async e=>{let a="published"===e.status?"draft":"published";B(e._id,a),T(e._id);try{await (0,o.nc)("/retreat-programs/".concat(e._id,"/status"),{status:a})}catch(a){B(e._id,e.status),alert((0,n.i)(a,"Failed to update publish status"))}finally{T(null)}};return(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-6",children:[(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d",children:[(0,s.jsx)("h1",{className:"jsx-1846a8877950fd0d text-2xl font-semibold text-white",children:"Retreat Programs"}),(0,s.jsx)("p",{className:"jsx-1846a8877950fd0d text-sm text-slate-400",children:"Create and manage retreat programs separately from health packages."})]}),(0,s.jsxs)("button",{onClick:()=>{w(b),k(null),I(!1),y(!0)},className:"jsx-1846a8877950fd0d inline-flex items-center gap-2 bg-teal-600 hover:bg-teal-500 text-white px-4 py-2 rounded-lg transition",children:[(0,s.jsx)(c.Z,{className:"h-5 w-5"}),"Add Program"]})]}),t?(0,s.jsx)("p",{className:"jsx-1846a8877950fd0d text-slate-400 text-sm",children:"Loading..."}):0===e.length?(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d text-slate-400 text-sm bg-slate-900 border border-slate-800 rounded-lg p-6",children:"No retreat programs yet. Add your first program."}):(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(e=>{var a;let t=(null===(a=h.find(a=>a.value===e.programType))||void 0===a?void 0:a.label)||e.programType,l=(e.destinations||[]).map(e=>"string"==typeof e?e:null==e?void 0:e.name).filter(Boolean).join(", ");return(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d rounded-xl border border-white/10 bg-[#0f131a] p-4 space-y-3 shadow-sm",children:[(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d rounded-lg overflow-hidden bg-slate-800 h-32 border border-slate-800",children:e.coverImage?(0,s.jsx)("img",{src:e.coverImage,alt:e.title,className:"jsx-1846a8877950fd0d w-full h-full object-cover"}):(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d w-full h-full flex items-center justify-center text-slate-500 text-xs",children:"No image"})}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d flex items-start justify-between gap-2",children:[(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-1",children:[(0,s.jsx)("p",{className:"jsx-1846a8877950fd0d text-white font-semibold line-clamp-2",children:e.title}),(0,s.jsx)("p",{className:"jsx-1846a8877950fd0d text-xs text-slate-400",children:e.slug})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d flex flex-col items-end gap-2",children:[(0,s.jsx)(u.t,{status:e.status}),(0,s.jsx)(u.W,{status:e.status,onToggle:()=>Q(e),disabled:O===e._id}),(0,s.jsxs)("button",{onClick:()=>$(e),className:"jsx-1846a8877950fd0d "+"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs ".concat(e.isActive?"bg-green-900/60 text-green-300":"bg-slate-800 text-slate-300"),children:[(0,s.jsx)(x.Z,{className:"h-4 w-4"}),e.isActive?"Active":"Inactive"]})]})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-1 text-sm text-slate-200",children:[(0,s.jsx)("p",{className:"jsx-1846a8877950fd0d text-teal-200 font-semibold",children:t}),(0,s.jsx)("p",{className:"jsx-1846a8877950fd0d text-slate-400 line-clamp-2",children:l||"No destinations set"}),(0,s.jsx)("p",{className:"jsx-1846a8877950fd0d text-slate-200",children:e.durationDays?"".concat(e.durationDays," days"):"Duration —"}),(0,s.jsx)("p",{className:"jsx-1846a8877950fd0d text-slate-100 font-semibold",children:e.pricePerPersonUSD?"$".concat(e.pricePerPersonUSD," / person"):"Price —"})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d flex gap-2 pt-2",children:[(0,s.jsxs)("button",{onClick:()=>R(e),className:"jsx-1846a8877950fd0d inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-100 text-sm",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4"}),"Edit"]}),(0,s.jsxs)("button",{onClick:()=>Z(e._id),className:"jsx-1846a8877950fd0d inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-red-900/60 hover:bg-red-800 text-red-100 text-sm",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4"}),"Delete"]})]})]},e._id)})}),r&&(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center px-4 py-8",children:(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d w-full max-w-5xl max-h-[90vh] bg-[#0f131a] border border-white/10 rounded-2xl shadow-2xl overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d flex items-center justify-between px-6 py-4 border-b border-slate-800",children:[(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d",children:[(0,s.jsx)("h2",{className:"jsx-1846a8877950fd0d text-xl font-semibold text-white",children:P?"Edit Retreat Program":"Add Retreat Program"}),(0,s.jsx)("p",{className:"jsx-1846a8877950fd0d text-sm text-slate-400",children:"Separate from health packages; customize every detail."})]}),(0,s.jsx)("button",{onClick:V,className:"jsx-1846a8877950fd0d text-slate-400 hover:text-white text-xl leading-none",children:"\xd7"})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-1",children:[(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Title"}),(0,s.jsx)("input",{name:"title",value:N.title,onChange:E,className:"jsx-1846a8877950fd0d w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-1",children:[(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Slug"}),(0,s.jsx)("input",{name:"slug",value:N.slug,onChange:E,className:"jsx-1846a8877950fd0d w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white"}),(0,s.jsx)("p",{className:"jsx-1846a8877950fd0d text-xs text-slate-500",children:"Auto generated, but you can edit."})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-1",children:[(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Short description"}),(0,s.jsx)("input",{name:"descriptionShort",value:N.descriptionShort,onChange:E,className:"jsx-1846a8877950fd0d w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-1",children:[(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Program type"}),(0,s.jsx)("select",{name:"programType",value:N.programType,onChange:E,className:"jsx-1846a8877950fd0d w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white",children:h.map(e=>(0,s.jsx)("option",{value:e.value,className:"jsx-1846a8877950fd0d",children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-2",children:[(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Long description"}),(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d bg-slate-900 border border-slate-700 rounded-lg shadow-inner",children:(0,s.jsx)(f,{theme:"snow",value:N.descriptionLong,onChange:e=>w(a=>({...a,descriptionLong:e}))})})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-1",children:[(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Duration (days)"}),(0,s.jsx)("input",{name:"durationDays",type:"number",value:N.durationDays,onChange:E,className:"jsx-1846a8877950fd0d w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-1",children:[(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Price per person (USD)"}),(0,s.jsx)("input",{name:"pricePerPersonUSD",type:"number",value:N.pricePerPersonUSD,onChange:E,className:"jsx-1846a8877950fd0d w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-1",children:[(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Always include airport pickup"}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d flex gap-2 items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"alwaysIncludesAirportPickup",checked:N.alwaysIncludesAirportPickup,onChange:E,className:"jsx-1846a8877950fd0d h-4 w-4"}),(0,s.jsx)("span",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Yes"})]})]})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-2 relative",children:[(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d flex items-center justify-between",children:[(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Select destinations"}),(0,s.jsx)("span",{className:"jsx-1846a8877950fd0d text-xs text-slate-500",children:A.length?"Choose any that apply":"No destinations for this type yet"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>_(e=>!e),className:"jsx-1846a8877950fd0d w-full flex items-center justify-between px-4 py-3 rounded-lg border border-slate-800 bg-slate-900 text-slate-200 text-sm hover:border-teal-600 transition",children:[(0,s.jsx)("span",{className:"jsx-1846a8877950fd0d",children:N.selectedDestinationIds.length?"".concat(N.selectedDestinationIds.length," selected"):"Choose destinations"}),(0,s.jsx)("span",{className:"jsx-1846a8877950fd0d text-xs text-slate-400",children:L?"▲":"▼"})]}),L&&(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d absolute z-20 mt-1 w-full max-h-64 overflow-y-auto rounded-lg border border-slate-800 bg-slate-900 shadow-xl",children:0===A.length?(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d px-4 py-3 text-sm text-slate-400",children:"No destinations for this type yet."}):(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d p-2 space-y-1",children:A.map(e=>{let a=N.selectedDestinationIds.includes(e._id);return(0,s.jsxs)("label",{className:"jsx-1846a8877950fd0d flex items-center gap-2 rounded-lg px-3 py-2 hover:bg-slate-800 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:a,onChange:()=>q(e._id),className:"jsx-1846a8877950fd0d h-4 w-4 text-teal-500"}),(0,s.jsx)("span",{className:"jsx-1846a8877950fd0d text-sm text-slate-200",children:e.name}),!e.isActive&&(0,s.jsx)("span",{className:"jsx-1846a8877950fd0d text-xs text-slate-500",children:"(inactive)"})]},e._id)})})}),N.selectedDestinationIds.length>0&&(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d flex flex-wrap gap-2",children:A.filter(e=>N.selectedDestinationIds.includes(e._id)).map(e=>(0,s.jsxs)("span",{className:"jsx-1846a8877950fd0d inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-800 text-slate-100 text-sm",children:[e.name,(0,s.jsx)("button",{type:"button",onClick:()=>q(e._id),"aria-label":"Remove ".concat(e.name),className:"jsx-1846a8877950fd0d text-slate-400 hover:text-white",children:"\xd7"})]},e._id))})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-3",children:[(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d flex gap-2 items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"allowAccommodationChoice",checked:N.allowAccommodationChoice,onChange:E,className:"jsx-1846a8877950fd0d"}),(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Allow accommodation choice"})]}),(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d flex flex-wrap gap-2",children:j.map(e=>{let a=N.accommodationOptions.includes(e.value);return(0,s.jsx)("button",{onClick:()=>W(e.value),type:"button",className:"jsx-1846a8877950fd0d "+"px-3 py-1 rounded-full border text-xs ".concat(a?"bg-teal-900/40 border-teal-500 text-teal-200":"bg-slate-900 border-slate-700 text-slate-300"),children:e.label},e.value)})}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-1",children:[(0,s.jsx)("p",{className:"jsx-1846a8877950fd0d text-sm text-slate-300 font-semibold",children:"Hospital premium price (per person, USD)"}),(0,s.jsx)("input",{type:"number",min:"0",name:"hospitalPremiumPrice",value:N.hospitalPremiumPrice,onChange:E,placeholder:"Enter price",className:"jsx-1846a8877950fd0d w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white"}),(0,s.jsx)("p",{className:"jsx-1846a8877950fd0d text-xs text-slate-500",children:"Partner hotel accommodation prices are managed globally. Only set hospital premium price here."})]})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-2",children:[(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d flex justify-between items-center",children:[(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Included services"}),(0,s.jsx)("button",{type:"button",onClick:()=>{w(e=>({...e,included:[...e.included,""]}))},className:"jsx-1846a8877950fd0d text-xs text-teal-300",children:"+ Add item"})]}),(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d space-y-2",children:N.included.map((e,a)=>(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d flex gap-2",children:[(0,s.jsx)("input",{value:e,onChange:e=>J(a,e.target.value),placeholder:"Example: Daily yoga sessions",className:"jsx-1846a8877950fd0d flex-1 bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white"}),N.included.length>1&&(0,s.jsx)("button",{onClick:()=>z(a),type:"button",className:"jsx-1846a8877950fd0d px-3 py-2 rounded-lg bg-red-900/50 text-red-100",children:"Remove"})]},a))})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-2",children:[(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Cover image"}),(0,s.jsxs)("label",{className:"jsx-1846a8877950fd0d flex flex-col items-center justify-center gap-2 rounded-xl border border-dashed border-slate-700 bg-slate-900/60 p-4 text-slate-300 cursor-pointer hover:border-teal-500 hover:bg-slate-900",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var a;let t=null===(a=e.target.files)||void 0===a?void 0:a[0];t&&w(e=>({...e,coverFile:t,coverImage:URL.createObjectURL(t)}))},className:"jsx-1846a8877950fd0d hidden"}),(0,s.jsx)("span",{className:"jsx-1846a8877950fd0d text-xs text-slate-400",children:"Click to upload or drop a file"}),(0,s.jsx)("span",{className:"jsx-1846a8877950fd0d text-xs text-slate-500",children:"PNG/JPG"})]}),N.coverImage&&(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d mt-2 h-32 w-56 rounded-xl overflow-hidden border border-slate-700 relative",children:[(0,s.jsx)("img",{src:N.coverImage,className:"jsx-1846a8877950fd0d w-full h-full object-cover"}),(0,s.jsx)("button",{type:"button",onClick:()=>{w(e=>({...e,coverFile:null,coverImage:""}))},className:"jsx-1846a8877950fd0d absolute top-2 right-2 bg-black/70 text-white rounded-full text-xs px-2 py-1",children:"Remove"})]})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-2",children:[(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Gallery images"}),(0,s.jsxs)("label",{className:"jsx-1846a8877950fd0d flex flex-col items-center justify-center gap-2 rounded-xl border border-dashed border-slate-700 bg-slate-900/60 p-4 text-slate-300 cursor-pointer hover:border-teal-500 hover:bg-slate-900",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let a=Array.from(e.target.files||[]);a.length&&w(e=>({...e,galleryList:[...e.galleryList,...a.map(e=>({url:URL.createObjectURL(e),file:e}))]}))},className:"jsx-1846a8877950fd0d hidden"}),(0,s.jsx)("span",{className:"jsx-1846a8877950fd0d text-xs text-slate-400",children:"Click to upload or drop files"}),(0,s.jsx)("span",{className:"jsx-1846a8877950fd0d text-xs text-slate-500",children:"PNG/JPG"})]}),(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d flex flex-wrap gap-2",children:N.galleryList.map((e,a)=>(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d relative h-20 w-20 rounded-lg overflow-hidden border border-slate-700",children:[(0,s.jsx)("img",{src:e.url,className:"jsx-1846a8877950fd0d h-full w-full object-cover"}),(0,s.jsx)("button",{type:"button",onClick:()=>G(a),className:"jsx-1846a8877950fd0d absolute top-1 right-1 bg-black/70 text-white rounded-full text-xs px-1",children:"\xd7"})]},a))})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d space-y-2",children:[(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d flex items-center justify-between",children:[(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Promo video (optional)"}),N.promoVideo&&(0,s.jsx)("button",{type:"button",onClick:()=>{w(e=>{var a;return(null===(a=e.promoVideo)||void 0===a?void 0:a.startsWith("blob:"))&&URL.revokeObjectURL(e.promoVideo),{...e,videoFile:null,promoVideo:""}})},className:"jsx-1846a8877950fd0d text-xs text-red-300 hover:text-red-200",children:"Remove"})]}),(0,s.jsx)("input",{name:"promoVideo",value:N.videoFile?"":N.promoVideo,onChange:E,placeholder:"Paste video URL",className:"jsx-1846a8877950fd0d w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder:text-slate-500"}),(0,s.jsxs)("label",{className:"jsx-1846a8877950fd0d flex flex-col items-center justify-center gap-2 rounded-xl border border-dashed border-slate-700 bg-slate-900/60 p-4 text-slate-300 cursor-pointer hover:border-teal-500 hover:bg-slate-900",children:[(0,s.jsx)("input",{type:"file",accept:"video/*",onChange:e=>{var a;let t=null===(a=e.target.files)||void 0===a?void 0:a[0];t&&w(e=>{var a;return e.videoFile&&(null===(a=e.promoVideo)||void 0===a?void 0:a.startsWith("blob:"))&&URL.revokeObjectURL(e.promoVideo),{...e,videoFile:t,promoVideo:URL.createObjectURL(t)}})},className:"jsx-1846a8877950fd0d hidden"}),(0,s.jsx)("span",{className:"jsx-1846a8877950fd0d text-xs text-slate-400",children:"Click to upload a promo video"}),(0,s.jsx)("span",{className:"jsx-1846a8877950fd0d text-xs text-slate-500",children:"MP4/MOV"})]}),N.promoVideo&&(0,s.jsx)("div",{className:"jsx-1846a8877950fd0d relative rounded-xl overflow-hidden border border-slate-700 bg-black",children:(0,s.jsx)("video",{src:N.promoVideo,controls:!0,className:"jsx-1846a8877950fd0d w-full"})})]})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d flex gap-2 items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"isActive",checked:N.isActive,onChange:E,className:"jsx-1846a8877950fd0d"}),(0,s.jsx)("label",{className:"jsx-1846a8877950fd0d text-sm text-slate-300",children:"Active"})]})]}),(0,s.jsxs)("div",{className:"jsx-1846a8877950fd0d px-6 py-4 border-t border-slate-800 flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:V,type:"button",className:"jsx-1846a8877950fd0d px-4 py-2 rounded-lg bg-slate-800 text-white",children:"Cancel"}),(0,s.jsx)("button",{onClick:M,disabled:C,type:"button",className:"jsx-1846a8877950fd0d px-4 py-2 rounded-lg bg-teal-600 text-white disabled:opacity-60",children:C?"Saving...":P?"Save Changes":"Create Program"})]})]})}),(0,s.jsx)(d(),{id:"1846a8877950fd0d",children:".ql-container{min-height:200px;max-height:350px;overflow:auto;background:#0f172a;color:#e2e8f0;border-color:#1e293b}.ql-editor{min-height:200px;color:#e2e8f0}.ql-toolbar{background:#0b1017;border-color:#1e293b}.ql-toolbar .ql-picker,.ql-toolbar button{color:#e2e8f0}"})]})}},14663:function(e,a,t){"use strict";t.d(a,{W:function(){return d},t:function(){return l}});var s=t(57437);function l(e){let{status:a}=e,t="published"===a;return(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-[11px] font-semibold ".concat(t?"bg-emerald-600/20 text-emerald-200 border border-emerald-500/40":"bg-slate-700/60 text-slate-200 border border-slate-600"),children:t?"Published":"Draft"})}function d(e){let{status:a,onToggle:t,disabled:l}=e,d="published"===a;return(0,s.jsx)("button",{type:"button",onClick:t,disabled:l,className:"relative inline-flex h-7 w-12 items-center rounded-full border ".concat(d?"bg-emerald-600/30 border-emerald-400":"bg-slate-700 border-slate-500"," transition disabled:opacity-60"),"aria-label":"Toggle publish",children:(0,s.jsx)("span",{className:"absolute left-1 h-5 w-5 rounded-full bg-white transition-transform ".concat(d?"translate-x-5":"translate-x-0")})})}},32617:function(e,a,t){"use strict";t.d(a,{QW:function(){return n},R1:function(){return i},nc:function(){return c},pE:function(){return o},sg:function(){return r}});let s="http://localhost:5000/api".replace(/\/$/,""),l="".concat(s,"/api");async function d(e){let a=await e.json().catch(()=>({}));if(!e.ok){let t=Error((null==a?void 0:a.message)||"Request failed");throw t.status=e.status,t}return a}async function i(e){return d(await fetch("".concat(l).concat(e),{method:"GET",credentials:"include"}))}async function r(e,a){let t="undefined"!=typeof FormData&&a instanceof FormData;return d(await fetch("".concat(l).concat(e),{method:"POST",credentials:"include",headers:t?void 0:{"Content-Type":"application/json"},body:t?a:JSON.stringify(a||{})}))}async function o(e,a){let t="undefined"!=typeof FormData&&a instanceof FormData;return d(await fetch("".concat(l).concat(e),{method:"PUT",credentials:"include",headers:t?void 0:{"Content-Type":"application/json"},body:t?a:JSON.stringify(a||{})}))}async function n(e){return d(await fetch("".concat(l).concat(e),{method:"DELETE",credentials:"include"}))}async function c(e,a){return d(await fetch("".concat(l).concat(e),{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a||{})}))}},66610:function(e,a,t){"use strict";function s(e){var a;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong";if(!e)return t;let s=(null===(a=e.response)||void 0===a?void 0:a.data)||e.data;if((null==s?void 0:s.errors)&&"object"==typeof s.errors){let e=Object.values(s.errors).flatMap(e=>Array.isArray(null==e?void 0:e._errors)?e._errors:[]).filter(Boolean);if(e.length)return e.join(", ")}return(null==s?void 0:s.message)?s.message:"string"==typeof e?e:e.message?e.message:t}t.d(a,{i:function(){return s}})}},function(e){e.O(0,[6458,2847,2971,2117,1744],function(){return e(e.s=24950)}),_N_E=e.O()}]);