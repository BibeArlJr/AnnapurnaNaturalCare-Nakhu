(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5644],{96770:function(e,t,s){Promise.resolve().then(s.bind(s,98653))},98653:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var l=s(57437),a=s(2265),o=s(99376),r=s(32617),n=s(66610);let i="w-full rounded-xl border px-4 py-3 text-sm focus:outline-none transition";function d(e){var t;let{program:s,open:o,onClose:d}=e,[c,m]=(0,a.useState)({name:"",email:"",phone:"",country:"",preferredStartDate:"",mode:"online",people:1,notes:""}),[u,x]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!1),[f,b]=(0,a.useState)(null),g=(0,l.jsxs)("div",{className:"space-y-2 text-sm text-[#10231a]",children:[(0,l.jsxs)("div",{className:"rounded-lg bg-[#fff7ed] border border-[#f2d5b1] px-3 py-2",children:[(0,l.jsx)("p",{className:"font-semibold text-[#c2410c]",children:"Important"}),(0,l.jsx)("p",{children:"Extra charges apply for any activities or services not listed in the program description."})]}),(0,l.jsxs)("div",{className:"rounded-lg bg-[#fef2f2] border border-[#fecdd3] px-3 py-2",children:[(0,l.jsx)("p",{className:"font-semibold text-[#be123c]",children:"Refund Policy"}),(0,l.jsx)("p",{children:"After payment, booking cancellations will incur a 10% deduction of the total booking cost."})]})]});if(!o||!s)return null;let v=Number(null===(t=s.pricing)||void 0===t?void 0:t[c.mode])||0,y=Number(c.people)||1,j=v*y,N=e=>{let{name:t,value:s}=e.target;if("people"===t){let e=Math.max(1,Number(s)||1);m(t=>({...t,people:e}))}else m(e=>({...e,[t]:s}))},w=()=>{h(!1),b(null),m({name:"",email:"",phone:"",country:"",preferredStartDate:"",mode:"online",people:1,notes:""}),null==d||d()},k=async e=>{if(e.preventDefault(),!c.name||!c.email||!c.phone||!c.mode){alert("Please fill required fields.");return}x(!0);try{var t;let e=await (0,r.sg)("/health-program-bookings",{programId:s._id,programTitle:s.title,userName:c.name,email:c.email,phone:c.phone,country:c.country,preferredStartDate:c.preferredStartDate,mode:c.mode,numberOfPeople:Number(c.people)||1,notes:c.notes});b((null==e?void 0:null===(t=e.data)||void 0===t?void 0:t._id)||(null==e?void 0:e._id)||null),h(!0)}catch(e){alert((0,n.i)(e,"Failed to place booking"))}x(!1)},P=async()=>{if(f)try{let e=await (0,r.sg)("/payments/stripe/checkout",{bookingId:f,type:"health_program"});(null==e?void 0:e.url)&&(window.location.href=e.url)}catch(e){alert((0,n.i)(e,"Unable to start payment"))}};return(0,l.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-start justify-center px-4 py-10",onClick:w,children:(0,l.jsxs)("div",{className:"w-full max-w-3xl max-h-[90vh] bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-y-auto p-6 md:p-8 space-y-6",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-teal-600 font-semibold",children:"Book this program"}),(0,l.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:s.title}),(0,l.jsx)("p",{className:"text-sm text-slate-600",children:s.durationInDays?"".concat(s.durationInDays," days"):""})]}),(0,l.jsx)("button",{onClick:w,className:"text-slate-500 hover:text-slate-900 font-semibold",children:"âœ•"})]}),p?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm",children:[(0,l.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[(0,l.jsx)("p",{className:"text-slate-600",children:"Mode"}),(0,l.jsx)("p",{className:"font-semibold text-slate-900 capitalize",children:c.mode})]}),(0,l.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[(0,l.jsx)("p",{className:"text-slate-600",children:"People"}),(0,l.jsx)("p",{className:"font-semibold text-slate-900",children:c.people})]}),(0,l.jsxs)("div",{className:"rounded-xl border-2 border-teal-600 bg-teal-50 px-4 py-3",children:[(0,l.jsx)("p",{className:"text-teal-700 font-semibold",children:"Total amount"}),(0,l.jsxs)("p",{className:"text-lg font-bold text-slate-900",children:["$",j]})]})]}),g,(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,l.jsx)("button",{onClick:P,className:"flex-1 inline-flex justify-center items-center rounded-full bg-teal-600 text-white text-sm font-semibold px-4 py-3 hover:bg-teal-700 transition",children:"Pay now with Stripe"}),(0,l.jsx)("button",{onClick:()=>{alert("Booking placed successfully. Pay later to confirm."),w()},className:"flex-1 inline-flex justify-center items-center rounded-full border border-slate-300 text-slate-900 text-sm font-semibold px-4 py-3 hover:bg-slate-50 transition",children:"Pay later"})]})]}):(0,l.jsxs)("form",{className:"space-y-4",onSubmit:k,children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-semibold text-slate-800",children:"Full Name"}),(0,l.jsx)("input",{name:"name",value:c.name,onChange:N,className:"".concat(i," border-slate-200"),required:!0})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-semibold text-slate-800",children:"Email"}),(0,l.jsx)("input",{name:"email",type:"email",value:c.email,onChange:N,className:"".concat(i," border-slate-200"),required:!0})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-semibold text-slate-800",children:"Phone"}),(0,l.jsx)("input",{name:"phone",value:c.phone,onChange:N,className:"".concat(i," border-slate-200"),required:!0})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-semibold text-slate-800",children:"Country"}),(0,l.jsx)("input",{name:"country",value:c.country,onChange:N,className:"".concat(i," border-slate-200")})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-semibold text-slate-800",children:"Preferred Start Date"}),(0,l.jsx)("input",{name:"preferredStartDate",type:"date",value:c.preferredStartDate,onChange:N,className:"".concat(i," border-slate-200")})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-semibold text-slate-800",children:"Number of People"}),(0,l.jsx)("input",{name:"people",type:"number",min:1,value:c.people,onChange:N,className:"".concat(i," border-slate-200")})]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-semibold text-slate-800",children:"Joining mode"}),(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:["online","residential","dayVisitor"].map(e=>{var t;return(0,l.jsxs)("label",{className:"rounded-xl border px-4 py-3 cursor-pointer transition ".concat(c.mode===e?"border-teal-600 bg-teal-50":"border-slate-200 bg-white hover:border-teal-300"),children:[(0,l.jsx)("input",{type:"radio",name:"mode",value:e,checked:c.mode===e,onChange:N,className:"hidden"}),(0,l.jsx)("p",{className:"font-semibold text-slate-900 capitalize",children:e}),(0,l.jsxs)("p",{className:"text-sm text-slate-600",children:["$",(null===(t=s.pricing)||void 0===t?void 0:t[e])||0," / person"]})]},e)})})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("label",{className:"text-sm font-semibold text-slate-800",children:"Additional Notes"}),(0,l.jsx)("textarea",{name:"notes",rows:3,value:c.notes,onChange:N,className:"".concat(i," border-slate-200 resize-none"),placeholder:"Share any preferences"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm",children:[(0,l.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[(0,l.jsx)("p",{className:"text-slate-600",children:"Price per person"}),(0,l.jsxs)("p",{className:"font-semibold text-slate-900",children:["$",v]})]}),(0,l.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[(0,l.jsx)("p",{className:"text-slate-600",children:"People"}),(0,l.jsx)("p",{className:"font-semibold text-slate-900",children:y})]}),(0,l.jsxs)("div",{className:"rounded-xl border-2 border-teal-600 bg-teal-50 px-4 py-3",children:[(0,l.jsx)("p",{className:"text-teal-700 font-semibold",children:"Total amount"}),(0,l.jsxs)("p",{className:"text-lg font-bold text-slate-900",children:["$",j]})]})]}),g,(0,l.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,l.jsx)("button",{type:"button",onClick:w,className:"px-4 py-2 rounded-full border border-slate-200 text-slate-900 hover:bg-slate-50 transition",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",disabled:u,className:"px-5 py-2 rounded-full bg-teal-600 text-white text-sm font-semibold hover:bg-teal-700 transition disabled:opacity-60",children:u?"Booking...":"Book Program"})]})]})]})})}function c(){var e;let t=(0,o.useParams)(),[s,n]=(0,a.useState)(null),[i,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=async()=>{try{let e=await (0,r.R1)("/health-programs/".concat(t.slug));n((null==e?void 0:e.data)||e||null)}catch(e){console.error("Health program load error:",e)}};(null==t?void 0:t.slug)&&e()},[null==t?void 0:t.slug]);let m=(0,a.useMemo)(()=>(null==s?void 0:s.galleryImages)||[],[null==s?void 0:s.galleryImages]),u=(0,a.useMemo)(()=>(Array.isArray(null==s?void 0:s.promoVideos)?s.promoVideos:[]).map(e=>"string"==typeof e?e:null==e?void 0:e.url).filter(Boolean),[null==s?void 0:s.promoVideos]),x=(null==s?void 0:s.videoUrl)||u[0]||null,p=(0,a.useMemo)(()=>{let e=m.length?m:[],t=(null==s?void 0:s.coverImage)||"/images/hero-placeholder.jpg";return e.length?e:[t]},[m,null==s?void 0:s.coverImage]),[h,f]=(0,a.useState)(0);(0,a.useEffect)(()=>{if(!p.length)return;let e=setInterval(()=>{f(e=>(e+1)%p.length)},6e3);return()=>clearInterval(e)},[p.length]),(0,a.useMemo)(()=>{let e=[{id:"overview",label:"Overview"},{id:"inclusions",label:"Inclusions"},{id:"outcomes",label:"Outcomes"},{id:"join",label:"Join this program"}];return m.length&&e.push({id:"gallery",label:"Gallery"}),x&&e.push({id:"video",label:"Video"}),e},[m.length,x]),(0,a.useCallback)(e=>{let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},[]);let b=!s,g=(null==s?void 0:s.title)||"Health Program",v=(null==s?void 0:s.shortDescription)||"";return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("section",{className:"relative h-screen min-h-screen w-full overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute inset-0",children:p.map((e,t)=>{let s=t===h;return(0,l.jsx)("img",{src:e,alt:g||"Program ".concat(t+1),className:"absolute inset-0 h-full w-full object-cover",style:{opacity:s?1:0,transition:"opacity 1.2s ease, transform 8s ease",transform:s?"scale(1.05)":"scale(1)"}},"".concat(e,"-").concat(t))})}),(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/60 to-black/80"}),(0,l.jsx)("div",{className:"relative z-10 flex h-full items-center",children:(0,l.jsx)("div",{className:"w-full max-w-6xl mx-auto px-6 sm:px-10",children:(0,l.jsxs)("div",{className:"max-w-4xl space-y-4 text-white",children:[(0,l.jsx)("span",{className:"inline-block px-3 py-1 rounded-full bg-white/10 border border-white/20 text-xs tracking-[0.25em] uppercase",children:"Health Program"}),(0,l.jsx)("h1",{className:"text-4xl sm:text-5xl font-semibold leading-tight",children:g}),v?(0,l.jsx)("p",{className:"text-base sm:text-lg text-white/90 leading-relaxed",children:v}):null,(0,l.jsx)("button",{onClick:()=>c(!0),className:"mt-2 inline-flex items-center justify-center px-6 py-3 rounded-full bg-teal-500 hover:bg-teal-400 text-white font-semibold shadow-lg transition",children:"Book Now"})]})})})]}),(0,l.jsxs)("div",{className:"w-full max-w-6xl xl:max-w-6xl 2xl:max-w-[1200px] mx-auto px-4 sm:px-6 py-12 space-y-12",children:[b?(0,l.jsx)("div",{className:"text-sm text-[#4c5f68]",children:"Loading..."}):null,(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-start",children:[(0,l.jsxs)("div",{className:"rounded-2xl border border-[#dfe8e2] bg-white shadow-sm p-5 space-y-3",id:"inclusions",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-[#0f1f17]",children:"Inclusions"}),(0,l.jsx)("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 list-none",children:((null==s?void 0:s.inclusions)||[]).map((e,t)=>(0,l.jsxs)("li",{className:"flex items-start gap-2 text-sm text-[#1d3329]",children:[(0,l.jsx)("span",{className:"mt-1 h-2 w-2 rounded-full bg-[#2F8D59]"}),(0,l.jsx)("span",{children:e})]},t))})]}),(0,l.jsxs)("div",{className:"rounded-2xl border border-[#dfe8e2] bg-white shadow-sm p-5 space-y-3",id:"outcomes",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-[#0f1f17]",children:"Outcomes"}),(null==s?void 0:null===(e=s.outcomes)||void 0===e?void 0:e.length)?(0,l.jsx)("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 list-none",children:(s.outcomes||[]).map((e,t)=>(0,l.jsxs)("li",{className:"flex items-start gap-2 text-sm text-[#1d3329]",children:[(0,l.jsx)("span",{className:"mt-1 h-2 w-2 rounded-full bg-[#2F8D59]"}),(0,l.jsx)("span",{children:e})]},t))}):(0,l.jsx)("p",{className:"text-sm text-[#4c5f68]",children:"Outcomes will be added soon."})]}),(0,l.jsx)("div",{className:"space-y-4",id:"join",children:(0,l.jsxs)("div",{className:"rounded-2xl border border-[#dfe8e2] bg-white shadow-sm p-5 space-y-4 sticky top-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("p",{className:"text-sm uppercase tracking-[0.2em] text-[#2F8D59] font-semibold",children:"Join this program"}),(null==s?void 0:s.durationInDays)?(0,l.jsxs)("span",{className:"text-xs text-[#4c5f68] font-medium",children:[s.durationInDays," days"]}):null]}),(0,l.jsx)("p",{className:"text-xs text-[#4c5f68] font-medium",children:"Choose how you want to attend"}),(0,l.jsx)("div",{className:"space-y-2",children:((null==s?void 0:s.modesAvailable)||[]).map(e=>{var t;let a="dayVisitor"===e?"Day Visitor":e.charAt(0).toUpperCase()+e.slice(1);return(0,l.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-[#e3ebe5] px-3 py-3 hover:border-[#2F8D59] hover:shadow transition",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-semibold text-[#0f1f17]",children:a}),(0,l.jsx)("p",{className:"text-xs text-[#4c5f68]",children:{online:"Learn and participate from home",residential:"Stay at our hospital during the program",dayVisitor:"Visit daily without overnight stay"}[e]||""})]}),(0,l.jsxs)("p",{className:"text-lg font-bold text-[#2F8D59]",children:["$",(null==s?void 0:null===(t=s.pricing)||void 0===t?void 0:t[e])||0]})]},e)})}),(0,l.jsx)("button",{onClick:()=>c(!0),className:"w-full rounded-full bg-[#2F8D59] hover:bg-[#27784c] text-white font-semibold py-3 transition",children:"Book Now"})]})})]}),(0,l.jsxs)("div",{className:"rounded-2xl border border-[#dfe8e2] bg-white shadow-sm p-6 space-y-3",id:"overview",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-[#0f1f17]",children:"Overview"}),(0,l.jsx)("div",{className:"prose prose-slate max-w-none",dangerouslySetInnerHTML:{__html:(null==s?void 0:s.longDescription)||""}})]}),x?(0,l.jsxs)("div",{className:"rounded-2xl border border-[#dfe8e2] bg-white shadow-sm p-4",id:"video",children:[(0,l.jsx)("h3",{className:"text-sm uppercase tracking-[0.2em] text-[#4c5f68] font-semibold mb-3",children:"Program Video"}),(()=>{if(/youtube\.com|youtu\.be|vimeo\.com/.test(x||"")){var e,t,s;let a=x;if(a.includes("watch?v="))a=a.replace("watch?v=","embed/");else if(a.includes("youtu.be/")){let t=null===(e=a.split("youtu.be/")[1])||void 0===e?void 0:e.split(/[?&]/)[0];t&&(a="https://www.youtube.com/embed/".concat(t))}else if(a.includes("youtube.com/shorts/")){let e=null===(t=a.split("youtube.com/shorts/")[1])||void 0===t?void 0:t.split(/[?&]/)[0];e&&(a="https://www.youtube.com/embed/".concat(e))}else if(a.includes("vimeo.com/")){let e=null===(s=a.split("vimeo.com/")[1])||void 0===s?void 0:s.split(/[?&]/)[0];e&&(a="https://player.vimeo.com/video/".concat(e))}return(0,l.jsx)("iframe",{src:a,className:"w-full aspect-video rounded-xl border border-[#dfe8e2]",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Program video"})}return(0,l.jsx)("video",{src:x,controls:!0,muted:!0,className:"w-full rounded-xl border border-[#dfe8e2]"})})()]}):null]}),(0,l.jsx)("button",{onClick:()=>c(!0),className:"fixed bottom-4 right-4 md:right-8 z-40 shadow-xl rounded-full bg-teal-600 hover:bg-teal-500 text-white font-semibold px-5 py-3",children:"Book Now"}),i&&(0,l.jsx)(d,{program:s,open:i,onClose:()=>c(!1)})]})}},32617:function(e,t,s){"use strict";s.d(t,{QW:function(){return d},R1:function(){return r},nc:function(){return c},pE:function(){return i},sg:function(){return n}});let l="http://localhost:5000/api".replace(/\/$/,""),a="".concat(l,"/api");async function o(e){let t=await e.json().catch(()=>({}));if(!e.ok){let s=Error((null==t?void 0:t.message)||"Request failed");throw s.status=e.status,s}return t}async function r(e){return o(await fetch("".concat(a).concat(e),{method:"GET",credentials:"include"}))}async function n(e,t){let s="undefined"!=typeof FormData&&t instanceof FormData;return o(await fetch("".concat(a).concat(e),{method:"POST",credentials:"include",headers:s?void 0:{"Content-Type":"application/json"},body:s?t:JSON.stringify(t||{})}))}async function i(e,t){let s="undefined"!=typeof FormData&&t instanceof FormData;return o(await fetch("".concat(a).concat(e),{method:"PUT",credentials:"include",headers:s?void 0:{"Content-Type":"application/json"},body:s?t:JSON.stringify(t||{})}))}async function d(e){return o(await fetch("".concat(a).concat(e),{method:"DELETE",credentials:"include"}))}async function c(e,t){return o(await fetch("".concat(a).concat(e),{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t||{})}))}},66610:function(e,t,s){"use strict";function l(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong";if(!e)return s;let l=(null===(t=e.response)||void 0===t?void 0:t.data)||e.data;if((null==l?void 0:l.errors)&&"object"==typeof l.errors){let e=Object.values(l.errors).flatMap(e=>Array.isArray(null==e?void 0:e._errors)?e._errors:[]).filter(Boolean);if(e.length)return e.join(", ")}return(null==l?void 0:l.message)?l.message:"string"==typeof e?e:e.message?e.message:s}s.d(t,{i:function(){return l}})},99376:function(e,t,s){"use strict";var l=s(35475);s.o(l,"useParams")&&s.d(t,{useParams:function(){return l.useParams}}),s.o(l,"usePathname")&&s.d(t,{usePathname:function(){return l.usePathname}}),s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}}),s.o(l,"useSearchParams")&&s.d(t,{useSearchParams:function(){return l.useSearchParams}})}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=96770)}),_N_E=e.O()}]);