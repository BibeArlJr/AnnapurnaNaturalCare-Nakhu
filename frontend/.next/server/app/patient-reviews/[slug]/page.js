(()=>{var e={};e.id=4330,e.ids=[4330],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},76922:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),a(29342),a(49328),a(20784),a(89204),a(35866);var s=a(23191),l=a(88716),r=a(37922),n=a.n(r),i=a(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let d=["",{children:["patient-reviews",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,29342)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/patient-reviews/[slug]/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,49328)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/layout.js"],error:[()=>Promise.resolve().then(a.bind(a,20784)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/error.js"],loading:[()=>Promise.resolve().then(a.bind(a,89204)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/loading.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/patient-reviews/[slug]/page.js"],u="/patient-reviews/[slug]/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/patient-reviews/[slug]/page",pathname:"/patient-reviews/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},68446:(e,t,a)=>{Promise.resolve().then(a.bind(a,43327))},43327:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(10326),l=a(17577),r=a(35047),n=a(46226);a(89420);var i=a(35100);function o({rating:e=0}){let t=Math.max(0,Math.min(5,Math.round(Number(e)||0)));return(0,s.jsxs)("div",{className:"flex items-center gap-1 text-amber-500",children:["★★★★★".slice(0,t),s.jsx("span",{className:"text-xs text-slate-500 ml-1",children:t?`${t}/5`:""})]})}function d(){let e=(0,r.useParams)();e?.slug;let[t,a]=(0,l.useState)(null),[d,c]=(0,l.useState)(!0),[u,p]=(0,l.useState)(null),[m,x]=(0,l.useState)(0),[h,g]=(0,l.useState)(0),v=t?.images||[];t?.videoUrl;let w=Array.isArray(t?.videoUrls)?(t.videoUrls||[]).filter(Boolean):t?.videoUrl?[t.videoUrl]:[],b=t?.videoCoverImage||void 0,f="string"==typeof(t?.fullReviewHtml||t?.fullReview)?(t.fullReviewHtml||t.fullReview).replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim():"",j=e=>{if(!e)return null;try{let t=new URL(e);if(t.hostname.includes("youtu.be"))return t.pathname.replace("/","")||null;if(t.hostname.includes("youtube.com")){let e=t.searchParams.get("v");if(e)return e;let a=t.pathname.split("/"),s=a.findIndex(e=>"embed"===e);if(s>=0&&a[s+1])return a[s+1]}}catch(e){}return null};return d?s.jsx("p",{className:"max-w-5xl mx-auto px-4 py-16 text-center text-slate-500",children:"Loading review..."}):t?(0,s.jsxs)(i.Z,{className:"py-12 space-y-10",children:[(0,s.jsxs)("header",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-emerald-600",children:"Patient Review"}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:t.headline}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-slate-700",children:[s.jsx("span",{className:"font-semibold text-lg",children:t.patientName||"Anonymous"}),t.country?(0,s.jsxs)("span",{className:"text-sm text-slate-500",children:["\xb7 ",t.country]}):null,s.jsx(o,{rating:t.rating})]}),t.associatedProgram?(0,s.jsxs)("p",{className:"text-sm text-slate-500",children:["Program / Package: ",t.associatedProgram]}):null]}),v.length>0&&s.jsx("section",{className:"space-y-4",children:v.length>3?s.jsx("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200 bg-white/70 p-3 shadow-sm",children:s.jsx("div",{className:"flex gap-3",children:Array.from({length:3}).map((e,t)=>{let a=v[(m+t)%v.length],l=`${a.url||a}-${t}`;return s.jsx("button",{type:"button",className:"relative flex-1 min-w-0 aspect-[4/3] overflow-hidden rounded-xl border border-slate-200 bg-slate-100 hover:opacity-90 transition",onClick:()=>p(a.url||a),children:s.jsx(n.default,{src:a.url||a,alt:a.caption||`Review image ${(m+t)%v.length+1}`,fill:!0,sizes:"(max-width: 768px) 33vw, 33vw",className:"object-cover",loading:"lazy"})},l)})})}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:v.map((e,t)=>s.jsx("button",{type:"button",className:"relative aspect-[4/3] overflow-hidden rounded-xl border border-slate-200 bg-slate-100 hover:opacity-90 transition",onClick:()=>p(e.url||e),children:s.jsx(n.default,{src:e.url||e,alt:e.caption||`Review image ${t+1}`,fill:!0,sizes:"(max-width: 768px) 50vw, 33vw",className:"object-cover",loading:"lazy"})},t))})}),(0,s.jsxs)("section",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 space-y-3",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Full review"}),s.jsx("p",{className:"text-slate-700 leading-relaxed whitespace-pre-line",children:f})]}),w.length>0&&s.jsx("section",{className:"relative w-full overflow-hidden rounded-2xl bg-black shadow-sm border border-slate-200",children:(()=>{let e=w[h],t=j(e);return t?s.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:s.jsx("iframe",{src:`https://www.youtube.com/embed/${t}?rel=0`,title:"Review video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute inset-0 h-full w-full"},t)}):s.jsx("video",{src:e,controls:!0,poster:b,className:"w-full h-full max-h-[520px] object-contain bg-black"},e)})()}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:s.jsx("div",{className:"relative max-w-4xl w-full",children:s.jsx(n.default,{src:u,alt:"Review media",width:1600,height:900,className:"w-full h-auto rounded-2xl"})})})]}):s.jsx("p",{className:"max-w-5xl mx-auto px-4 py-16 text-center text-slate-500",children:"Review not found."})}},29342:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/patient-reviews/[slug]/page.js#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8948,829,9143],()=>a(76922));module.exports=s})();