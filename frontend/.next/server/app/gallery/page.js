(()=>{var e={};e.id=3928,e.ids=[3928],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},31176:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(81602),s(86554),s(46210),s(49328),s(20784),s(89204),s(35866);var t=s(23191),l=s(88716),r=s(37922),n=s.n(r),i=s(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(a,o);let d=["",{children:["gallery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,81602)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/gallery/page.js"]}]},{error:[()=>Promise.resolve().then(s.bind(s,86554)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/gallery/error.js"],loading:[()=>Promise.resolve().then(s.bind(s,46210)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/gallery/loading.js"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,49328)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/layout.js"],error:[()=>Promise.resolve().then(s.bind(s,20784)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/error.js"],loading:[()=>Promise.resolve().then(s.bind(s,89204)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/loading.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/gallery/page.js"],u="/gallery/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/gallery/page",pathname:"/gallery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},72777:(e,a,s)=>{Promise.resolve().then(s.bind(s,35105))},20690:(e,a,s)=>{Promise.resolve().then(s.bind(s,14618))},35105:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l});var t=s(10326);function l({reset:e}){return(0,t.jsxs)("div",{className:"p-6 space-y-3",children:[t.jsx("p",{className:"text-red-600 font-semibold",children:"Failed to load gallery."}),t.jsx("button",{onClick:()=>e?.(),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Retry"})]})}},14618:(e,a,s)=>{"use strict";s.d(a,{default:()=>i});var t=s(10326),l=s(17577);function r({item:e,onOpen:a}){let s=Array.isArray(e?.images)?e.images:[],r=Array.isArray(e?.videos)?e.videos:[],n=Array.isArray(e?.youtubeLinks)?e.youtubeLinks:[],i=(0,l.useMemo)(()=>[...s.map(e=>({type:"image",src:e})),...r.map(e=>({type:"video",src:e})),...n.map(e=>({type:"youtube",src:e}))].filter(e=>e?.src).slice(0,4),[s,r,n]),o=e=>e?.src||"";return t.jsx("button",{type:"button",onClick:a,className:"group w-full text-left overflow-hidden rounded-2xl border border-[#dfe8e2] bg-white hover:shadow-lg hover:shadow-[#2F8D59]/12 transition transform hover:-translate-y-0.5",children:(0,t.jsxs)("div",{className:"overflow-hidden",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 grid-rows-2 gap-1 aspect-[3/2] bg-[#e8f0ea]",children:[0===i.length&&t.jsx("div",{className:"col-span-2 row-span-2 bg-[#e8f0ea]"}),1===i.length&&(0,t.jsxs)("div",{className:"col-span-2 row-span-2 relative",children:[t.jsx("img",{src:o(i[0]),alt:e?.title||"Gallery image",className:"w-full h-full object-cover",loading:"lazy"}),"image"!==i[0].type&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:t.jsx("span",{className:"text-white text-2xl",children:"▶"})})]}),i.length>1&&i.map((a,s)=>(0,t.jsxs)("div",{className:"relative",children:[t.jsx("img",{src:o(a),alt:e?.title||"Gallery image",className:"w-full h-full object-cover",loading:"lazy"}),"image"!==a.type&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:t.jsx("span",{className:"text-white text-lg",children:"▶"})})]},s))]}),(0,t.jsxs)("div",{className:"p-3 space-y-1",children:[e?.title&&t.jsx("p",{className:"text-[#10231a] text-sm font-semibold line-clamp-1",children:e.title}),e?.description&&t.jsx("p",{className:"text-[#4c5f68] text-xs line-clamp-2",children:e.description})]})]})})}function n({item:e,onClose:a}){let s=(0,l.useMemo)(()=>[...(e?.images||[]).map(e=>({type:"image",src:e})),...(e?.videos||[]).map(e=>({type:"video",src:e})),...(e?.youtubeLinks||[]).map(e=>({type:"youtube",src:e}))].filter(e=>e?.src),[e]),[r,n]=(0,l.useState)(0),[i,o]=(0,l.useState)(null),d=s.length>0,c=d?s[r]:null,u=(0,l.useCallback)(()=>{d&&n(e=>(e+1)%s.length)},[d,s.length]),p=(0,l.useCallback)(()=>{d&&n(e=>(e-1+s.length)%s.length)},[d,s.length]);return t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center px-4",onClick:a,children:(0,t.jsxs)("div",{className:"relative w-full max-w-6xl bg-white rounded-2xl overflow-hidden border border-[#dfe8e2]",onClick:e=>e.stopPropagation(),onTouchStart:e=>o(e.touches[0].clientX),onTouchEnd:e=>{if(null===i)return;let a=e.changedTouches[0].clientX-i;Math.abs(a)>50&&(a>0?p():u()),o(null)},children:[t.jsx("button",{onClick:a,className:"absolute top-3 right-3 bg-black/60 text-white rounded-full px-3 py-1 text-sm hover:bg-black/80","aria-label":"Close",children:"✕"}),(0,t.jsxs)("div",{className:"pt-10 pb-4 px-6 text-center space-y-2",children:[e?.title&&t.jsx("p",{className:"text-xl font-semibold text-[#10231a]",children:e.title}),e?.description&&t.jsx("p",{className:"text-sm text-[#4c5f68] line-clamp-2 mx-auto max-w-3xl",children:e.description})]}),(0,t.jsxs)("div",{className:"relative px-4 pb-6",children:[(0,t.jsxs)("div",{className:"w-full overflow-hidden rounded-xl border border-[#dfe8e2] bg-[#0b0d10]",children:[c?.type==="image"&&t.jsx("div",{className:"w-full flex items-center justify-center bg-black",children:t.jsx("img",{src:c.src,alt:e?.title||"Gallery image",className:"w-full max-h-[70vh] object-contain"})}),c?.type==="youtube"&&t.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:t.jsx("iframe",{src:c.src,className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:e?.title||"Gallery video"})})]}),s.length>1&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("button",{onClick:p,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 text-[#10231a] rounded-full w-10 h-10 flex items-center justify-center shadow hover:bg-white","aria-label":"Previous",children:"←"}),t.jsx("button",{onClick:u,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 text-[#10231a] rounded-full w-10 h-10 flex items-center justify-center shadow hover:bg-white","aria-label":"Next",children:"→"})]})]}),s.length>1&&t.jsx("div",{className:"pb-4 flex justify-center gap-2",children:s.map((e,a)=>t.jsx("button",{"aria-label":`Go to slide ${a+1}`,onClick:()=>n(a),className:`h-2 w-2 rounded-full transition ${a===r?"bg-[#2F8D59]":"bg-[#dfe8e2] hover:bg-[#b7d0c2]"}`},a))})]})})}function i({items:e=[]}){let[a,s]=(0,l.useState)(null);return e&&0!==e.length?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-5 md:gap-6",children:e.map(e=>t.jsx(r,{item:e,onOpen:()=>s(e)},e._id))}),a&&t.jsx(n,{item:a,onClose:()=>s(null)})]}):t.jsx("div",{className:"bg-white border border-[#dfe8e2] rounded-2xl p-8 text-center text-[#4c5f68]",children:"No gallery items yet. Please check back soon."})}},86554:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/gallery/error.js#default`)},46210:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});var t=s(19510),l=s(36689);function r(){return t.jsx("div",{className:"bg-[#f5f8f4] min-h-screen",children:(0,t.jsxs)(l.Z,{className:"py-12 md:py-16 space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-8 w-40 bg-[#dfe8e2] rounded-lg animate-pulse"}),t.jsx("div",{className:"h-4 w-72 bg-[#e8f0ea] rounded-lg animate-pulse"})]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6 animate-pulse",children:[...Array(12)].map((e,a)=>t.jsx("div",{className:"aspect-[4/3] bg-[#e8f0ea] rounded-xl border border-[#dfe8e2]"},a))})]})})}},81602:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d,metadata:()=>i,revalidate:()=>o});var t=s(19510),l=s(36689),r=s(35144);let n=(0,s(68570).createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/components/gallery/GalleryGrid.js#default`),i={title:"Gallery – Annapurna Nature Cure Hospital",description:"Moments from therapies, retreats, and healing journeys."},o=0;async function d(){let e=[];try{let a=await (0,r.R1)("/gallery");e=a?.data||a||[]}catch(e){console.error("Gallery load error:",e)}return t.jsx("div",{className:"bg-[#f5f8f4] min-h-screen",children:(0,t.jsxs)(l.Z,{className:"py-12 md:py-16 space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-semibold text-[#10231a]",children:"Gallery"}),t.jsx("p",{className:"text-[#4c5f68] max-w-3xl",children:"A calm glimpse into our therapies, spaces, and patient journeys at Annapurna Nature Cure Hospital."})]}),t.jsx(n,{items:e})]})})}},36689:(e,a,s)=>{"use strict";s.d(a,{Z:()=>l});var t=s(19510);function l({className:e="",children:a}){return t.jsx("div",{className:`mx-auto w-full max-w-screen-xl px-4 md:px-6 lg:px-8 ${e}`,children:a})}},35144:(e,a,s)=>{"use strict";s.d(a,{R1:()=>i,f8:()=>r});let t="http://localhost:5000/api".replace(/\/$/,""),l=t.endsWith("/api")?t:`${t}/api`;function r(e=""){let a=e.startsWith("/")?e:`/${e}`,s=`${l}${a}`;return console.log("[api] request url:",s),s}async function n(e){let a=await e.json().catch(()=>({}));if(!e.ok){let s=Error(a?.message||"Request failed");throw s.status=e.status,s}return a}async function i(e){return n(await fetch(r(e),{method:"GET",credentials:"include"}))}}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[8948,829,9143],()=>s(31176));module.exports=t})();