(()=>{var e={};e.id=6547,e.ids=[6547],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14547:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),a(28540),a(49328),a(20784),a(89204),a(35866);var s=a(23191),r=a(88716),n=a(37922),l=a.n(n),o=a(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);a.d(t,i);let d=["",{children:["packages",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,28540)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/packages/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,49328)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/layout.js"],error:[()=>Promise.resolve().then(a.bind(a,20784)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/error.js"],loading:[()=>Promise.resolve().then(a.bind(a,89204)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/loading.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/packages/page.js"],u="/packages/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/packages/page",pathname:"/packages",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},61998:(e,t,a)=>{Promise.resolve().then(a.bind(a,70043))},70043:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var s=a(10326),r=a(17577),n=a(90434);let l=e=>{let t=[];return(function(e){let t=[],a=e=>{if(!e)return;let a=e.toString(),s=a.split(/[,\n]+/);(s.length>1?s:a.split(/\s+/)).forEach(e=>{if(!e)return;let a=e.toString().trim();a&&t.push(a)})};return Array.isArray(e)?e.forEach(a):"string"==typeof e&&a(e),t})(e?.included).forEach(e=>{if(!e)return;let a=e.toString().trim();a&&(["a","h","b","c","d","e"].includes(a.toLowerCase())||t.push(a))}),e?.bestFor&&t.push(`Best for ${e.bestFor}`),{chips:t,duration:e?.duration||e?.durationDays||e?.days}};function o({pkg:e,onBook:t}){let a=e?.price&&Number(e.price)>0?`$${e.price}`:"Contact for pricing",r=e?.shortDescription||e?.tagline,o=e?.benefit||e?.benefitLine,i=e?.bestFor||e?.recommendedFor,d=e?.imageUrl||(e?.images?.[0]??""),{chips:c}=l(e),u=e?.duration||e?.durationDays||e?.days,p=e?.department?.name||e?.departments?.[0]?.name||e?.departments?.[0],m=e?.treatmentType?.name||e?.treatmentType,x=c.slice(0,4),f=Math.max(0,c.length-x.length);return(0,s.jsxs)("div",{className:"bg-white border border-[#dfe8e2] rounded-2xl p-4 md:p-5 shadow-sm hover:shadow-lg hover:shadow-[#2F8D59]/10 transition flex flex-col md:flex-row gap-4 md:gap-6",children:[s.jsx("div",{className:"w-full md:w-56 h-40 md:h-44 overflow-hidden rounded-xl bg-[#e8f0ea] flex-shrink-0",children:d?s.jsx("img",{src:d,alt:e?.name||"Health package",className:"w-full h-full object-cover",loading:"lazy"}):null}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-[#10231a]",children:e?.name||"Health Package"}),e?.badge&&s.jsx("span",{className:"px-2 py-1 rounded-full bg-[#e6f2ea] text-[#2F8D59] text-xs font-semibold border border-[#cfe8d6]",children:e.badge}),m&&s.jsx("span",{className:"px-2 py-1 rounded-full bg-[#e6f2ea] text-[#2F8D59] text-xs font-semibold border border-[#cfe8d6]",children:m})]}),p&&s.jsx("p",{className:"text-sm font-semibold text-[#2F8D59]",children:p}),r&&s.jsx("p",{className:"text-sm text-[#4c5f68] leading-relaxed line-clamp-3",children:r}),i&&(0,s.jsxs)("p",{className:"text-sm font-semibold text-[#2F8D59]",children:["Recommended for ",i]}),o&&s.jsx("p",{className:"text-sm text-[#10231a] font-medium",children:o}),x.length>0&&(0,s.jsxs)("div",{className:"space-y-1",children:[x.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-[#2F8D59]",children:[s.jsx("span",{className:"mt-0.5",children:"âœ“"}),s.jsx("span",{children:e})]},t)),f>0&&(0,s.jsxs)("p",{className:"text-xs text-[#4c5f68] font-medium",children:["+",f," more included"]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-start md:items-end justify-between gap-3 md:w-40",children:[(0,s.jsxs)("div",{className:"text-left md:text-right",children:[s.jsx("p",{className:"text-sm text-[#4c5f68]",children:"Starting at"}),s.jsx("p",{className:"text-lg font-semibold text-[#10231a]",children:a}),u&&(0,s.jsxs)("div",{className:"mt-3 text-xs text-[#4c5f68] space-y-1",children:[s.jsx("p",{className:"font-semibold text-[#10231a]",children:"Program duration"}),(0,s.jsxs)("span",{className:"inline-flex px-3 py-1 rounded-full bg-[#e6f2ea] border border-[#cfe8d6] text-[#2F8D59] font-semibold",children:[u," days"]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto",children:[s.jsx(n.default,{href:`/packages/${e?.slug||e?._id}`,className:"inline-flex justify-center items-center rounded-full bg-[#2F8D59] text-white text-sm font-semibold px-4 py-2 hover:bg-[#27784c] transition w-full md:w-auto whitespace-nowrap",children:"View Details"}),s.jsx("button",{type:"button",onClick:()=>t?.(e),className:"inline-flex justify-center items-center rounded-full border border-[#2F8D59] text-[#2F8D59] text-sm font-semibold px-4 py-2 hover:bg-[#e6f2ea] transition w-full md:w-auto whitespace-nowrap",children:"Book Package"})]})]})]})}var i=a(17082);function d({packages:e=[],departments:t=[],treatmentTypes:a=[]}){let[n,l]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[f,h]=(0,r.useState)(""),[g,b]=(0,r.useState)(""),[j,y]=(0,r.useState)(null),N=(0,r.useMemo)(()=>e.filter(e=>{let t=Number(e.price)||0,a=Number(e.durationDays??e.duration)||0;if(n&&t<Number(n)||d&&t>Number(d)||u&&a<Number(u)||m&&a>Number(m))return!1;if(f){let t=e.treatmentType?._id||e.treatmentType?.id||e.treatmentType;if(!t||t.toString()!==f.toString())return!1}return!g||!!(e.department?._id===g||e.department===g||(e.departments||[]).some(e=>e?._id===g||e?.id===g||e===g))}),[e,n,d,u,m,f,g]),v=e=>{h(t=>t===e?"":e)};return(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[320px_1fr] gap-6",children:[(0,s.jsxs)("aside",{className:"bg-white border border-[#dfe8e2] rounded-2xl p-5 space-y-4 h-fit",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#10231a]",children:"Filters"}),s.jsx("button",{onClick:()=>{l(""),c(""),p(""),x(""),h(""),b("")},className:"text-sm text-[#2F8D59] font-semibold hover:underline",children:"Reset"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-[#10231a]",children:"Price range"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",placeholder:"Min",value:n,onChange:e=>l(e.target.value),className:"w-full rounded-xl border border-[#dfe8e2] px-3 py-2 text-sm text-[#10231a] focus:outline-none focus:border-[#2F8D59] focus:ring-2 focus:ring-[#cfe8d6]"}),s.jsx("input",{type:"number",placeholder:"Max",value:d,onChange:e=>c(e.target.value),className:"w-full rounded-xl border border-[#dfe8e2] px-3 py-2 text-sm text-[#10231a] focus:outline-none focus:border-[#2F8D59] focus:ring-2 focus:ring-[#cfe8d6]"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-[#10231a]",children:"Duration (days)"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",placeholder:"Min",value:u,onChange:e=>p(e.target.value),className:"w-full rounded-xl border border-[#dfe8e2] px-3 py-2 text-sm text-[#10231a] focus:outline-none focus:border-[#2F8D59] focus:ring-2 focus:ring-[#cfe8d6]"}),s.jsx("input",{type:"number",placeholder:"Max",value:m,onChange:e=>x(e.target.value),className:"w-full rounded-xl border border-[#dfe8e2] px-3 py-2 text-sm text-[#10231a] focus:outline-none focus:border-[#2F8D59] focus:ring-2 focus:ring-[#cfe8d6]"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-[#10231a]",children:"Treatment type"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(e=>{let t=f===(e?._id||e?.id||e?.value);return s.jsx("button",{type:"button",onClick:()=>v(e?._id||e?.id||e?.value),className:`px-3 py-1 rounded-full border text-xs ${t?"bg-[#e6f2ea] border-[#2F8D59] text-[#2F8D59]":"bg-white border-[#dfe8e2] text-[#4c5f68]"}`,children:e?.name||e},e)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-[#10231a]",children:"Department"}),(0,s.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"w-full rounded-xl border border-[#dfe8e2] px-3 py-2 text-sm text-[#10231a] focus:outline-none focus:border-[#2F8D59] focus:ring-2 focus:ring-[#cfe8d6] bg-white",children:[s.jsx("option",{value:"",children:"Any"}),t.map(e=>s.jsx("option",{value:e._id,children:e.name},e._id))]})]})]}),(0,s.jsxs)("section",{className:"space-y-4",children:[0===N.length&&s.jsx("div",{className:"bg-white border border-[#dfe8e2] rounded-2xl p-6 text-[#4c5f68]",children:"No packages match these filters."}),N.map(e=>s.jsx(o,{pkg:e,onBook:e=>y(e)},e._id))]}),j&&s.jsx(i.Z,{pkg:j,onClose:()=>y(null)})]})}},28540:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d,metadata:()=>o,revalidate:()=>i});var s=a(19510),r=a(36689);let n=(0,a(68570).createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/components/packages/PackageListWithFilters.js#default`);var l=a(35144);let o={title:"Health Packages | Annapurna Nature Cure Hospital",description:"Curated wellness and treatment packages tailored to holistic healing."},i=0;async function d(){let e=[],t=[],a=[];try{let t=await (0,l.R1)("/packages");e=t?.data||t||[]}catch(e){console.error("Packages load error:",e)}try{let e=await (0,l.R1)("/departments");t=e?.data||e||[]}catch(e){console.error("Departments load error:",e)}try{let e=await (0,l.R1)("/treatment-types");a=e?.data||e||[]}catch(e){console.error("Treatment types load error:",e)}return s.jsx("div",{className:"bg-[#f5f8f4] min-h-screen",children:(0,s.jsxs)(r.Z,{className:"py-14 md:py-18 space-y-10",children:[(0,s.jsxs)("header",{className:"space-y-3",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-semibold text-[#10231a]",children:"Health Packages"}),s.jsx("p",{className:"text-base md:text-lg text-[#4c5f68] max-w-3xl",children:"Curated wellness and treatment programs designed to restore balance, support recovery, and guide your holistic healing journey."})]}),e&&0!==e.length?s.jsx(n,{packages:e,departments:t,treatmentTypes:a}):s.jsx("div",{className:"bg-white border border-[#dfe8e2] rounded-2xl p-8 text-[#4c5f68]",children:"Packages will be available soon. Please contact us for customized programs."})]})})}},36689:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(19510);function r({className:e="",children:t}){return s.jsx("div",{className:`mx-auto w-full max-w-screen-xl px-4 md:px-6 lg:px-8 ${e}`,children:t})}},35144:(e,t,a)=>{"use strict";a.d(t,{R1:()=>o,f8:()=>n});let s="http://localhost:5000/api".replace(/\/$/,""),r=s.endsWith("/api")?s:`${s}/api`;function n(e=""){let t=e.startsWith("/")?e:`/${e}`,a=`${r}${t}`;return console.log("[api] request url:",a),a}async function l(e){let t=await e.json().catch(()=>({}));if(!e.ok){let a=Error(t?.message||"Request failed");throw a.status=e.status,a}return t}async function o(e){return l(await fetch(n(e),{method:"GET",credentials:"include"}))}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8948,829,9143,7082],()=>a(14547));module.exports=s})();