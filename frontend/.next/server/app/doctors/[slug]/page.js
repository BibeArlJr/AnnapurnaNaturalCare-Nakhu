(()=>{var e={};e.id=7343,e.ids=[7343],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},28403:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(88658),a(12152),a(48736),a(49328),a(20784),a(89204),a(35866);var r=a(23191),s=a(88716),l=a(37922),n=a.n(l),i=a(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let d=["",{children:["doctors",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,88658)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/doctors/[slug]/page.js"]}]},{}]},{error:[()=>Promise.resolve().then(a.bind(a,12152)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/doctors/error.js"],loading:[()=>Promise.resolve().then(a.bind(a,48736)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/doctors/loading.js"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,49328)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/layout.js"],error:[()=>Promise.resolve().then(a.bind(a,20784)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/error.js"],loading:[()=>Promise.resolve().then(a.bind(a,89204)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/loading.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/doctors/[slug]/page.js"],u="/doctors/[slug]/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/doctors/[slug]/page",pathname:"/doctors/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},57741:(e,t,a)=>{Promise.resolve().then(a.bind(a,58683))},51604:(e,t,a)=>{Promise.resolve().then(a.bind(a,92951)),Promise.resolve().then(a.t.bind(a,79404,23))},58683:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(10326);function s({reset:e}){return(0,r.jsxs)("div",{className:"p-6 space-y-3",children:[r.jsx("p",{className:"text-red-600 font-semibold",children:"Failed to load doctors."}),r.jsx("button",{onClick:()=>e?.(),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Retry"})]})}},92951:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var r=a(10326),s=a(17577),l=a(90434);function n({doc:e,specialty:t,galleryImages:a=[]}){let n=Array.isArray(a)?a.filter(Boolean):[],[i,o]=(0,s.useState)(0),d=(0,s.useMemo)(()=>[{key:"cards",content:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[(0,r.jsxs)("div",{className:"bg-white/90 text-neutral-900 rounded-xl border border-white/70 shadow-md p-5 h-full",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-800 mb-3",children:"Doctor Details"}),(0,r.jsxs)("ul",{className:"space-y-2 text-neutral-700 text-sm",children:[(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Specialty:"})," ",t]}),e.degree?(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Degree:"})," ",e.degree]}):null,e.experienceYears?(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Experience:"})," ",e.experienceYears," years"]}):null,e.department?.name?(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Department:"})," ",e.department.name]}):null]})]}),(0,r.jsxs)("div",{className:"bg-white/90 text-neutral-900 rounded-xl border border-white/70 shadow-md p-5 h-full",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-800 mb-3",children:"Book an Appointment"}),(0,r.jsxs)("p",{className:"text-neutral-700 text-sm mb-4",children:["Choose a date and time to book with ",e.name,"."]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(l.default,{href:`/appointments?doctor=${e.slug}`,className:"inline-block text-center bg-primary-teal hover:bg-primary-dark text-white font-semibold px-4 py-2 rounded-lg transition",children:"View Availability"})})]})]})},...n.map((t,a)=>({key:`img-${a}`,content:r.jsx("div",{className:"w-full h-full rounded-xl overflow-hidden bg-neutral-100 border border-neutral-200 min-h-[220px] flex items-center justify-center",children:r.jsx("img",{src:t,alt:`${e.name} ${a+1}`,className:"w-full h-full object-cover"})})}))],[e.degree,e.department?.name,e.experienceYears,e.name,e.slug,n,t]);return d.length?(0,r.jsxs)("div",{className:"relative bg-white/90 text-neutral-900 rounded-xl border border-white/70 shadow-md p-5 h-full flex flex-col",children:[r.jsx("div",{className:"relative min-h-[260px] flex-1",children:d.map((e,t)=>r.jsx("div",{className:`absolute inset-0 transition-opacity duration-300 ${t===i?"opacity-100":"opacity-0 pointer-events-none"} flex items-center`,children:e.content},e.key))}),d.length>1&&(0,r.jsxs)("div",{className:"mt-4 relative",children:[r.jsx("button",{type:"button",onClick:function(){o(e=>(e-1+d.length)%d.length)},className:"h-9 w-9 rounded-full border border-neutral-200 bg-white text-neutral-800 hover:bg-neutral-100 shadow-sm absolute left-0 top-1/2 -translate-y-1/2","aria-label":"Previous slide",children:"←"}),r.jsx("button",{type:"button",onClick:function(){o(e=>(e+1)%d.length)},className:"h-9 w-9 rounded-full border border-neutral-200 bg-white text-neutral-800 hover:bg-neutral-100 shadow-sm absolute right-0 top-1/2 -translate-y-1/2","aria-label":"Next slide",children:"→"}),r.jsx("div",{className:"flex gap-2 justify-center",children:d.map((e,t)=>r.jsx("button",{type:"button",onClick:()=>o(t),className:`h-2.5 w-2.5 rounded-full transition ${t===i?"bg-emerald-700":"bg-emerald-700/30"}`,"aria-label":`Go to slide ${t+1}`},e.key))})]})]}):null}},88658:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d,generateMetadata:()=>o,revalidate:()=>i});var r=a(19510),s=a(35144);a(57371);var l=a(27689);let n=(0,a(68570).createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/components/DoctorHeroCarousel.js#default`),i=0;async function o({params:e}){try{let t=(await (0,s.R1)(`/doctors/${e.slug}`)).data;return{title:`${t.name} – Annapurna Hospital`,description:t.bio||t.description||`Learn about Dr. ${t.name} at Annapurna Hospital`}}catch(e){return{title:"Doctor – Annapurna Hospital",description:"Doctor profile at Annapurna Hospital."}}}async function d({params:e}){let{slug:t}=e;try{let e=(await (0,s.R1)(`/doctors/${t}`)).data,a=[];try{let t=await (0,s.R1)("/doctors"),r=((e=[])=>(e||[]).filter(e=>"published"===(e.status||"").toLowerCase()))(t?.data||[]),l=r.filter(t=>t._id!==e._id&&(t.departmentId?._id||t.departmentId)===(e.departmentId?._id||e.departmentId)),n=r.filter(t=>t._id!==e._id);a=(l.length?l:n).slice(0,3)}catch(e){a=[]}let i=e.specialty||e.specialties?.[0]||"Specialist",o=Array.isArray(e.medicalQualifications)?e.medicalQualifications.filter(e=>e&&e.degree):[],d=Array.isArray(e.galleryImages)?e.galleryImages.filter(Boolean):[],c=function(e){if(!e)return"";try{let t=new URL(e),a=t.hostname.toLowerCase();if(a.includes("youtu.be")){let e=t.pathname.replace("/","");if(e)return`https://www.youtube.com/embed/${e}`}if(a.includes("youtube.com")){let e=t.searchParams.get("v")||t.pathname.split("/").pop();if(e)return`https://www.youtube.com/embed/${e}`}return e}catch(t){return e}}(e.videoUrl);return(0,r.jsxs)("div",{className:"min-h-screen bg-neutral-50",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-primary-teal to-primary-dark py-14 text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-white/5 pointer-events-none"}),r.jsx("div",{className:"relative max-w-7xl mx-auto px-4 md:px-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-10 items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center lg:items-start text-center lg:text-left space-y-3",children:[r.jsx("div",{className:"w-48 h-48 md:w-56 md:h-56 rounded-full bg-white shadow-lg overflow-hidden border-4 border-white",children:e.photo?r.jsx("img",{src:e.photo,alt:e.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-400",children:"No Photo"})}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-semibold",children:e.name}),r.jsx("p",{className:"text-sm md:text-base opacity-90",children:i}),e.department?.name?r.jsx("span",{className:"inline-block mt-2 px-4 py-1 text-sm rounded-full bg-white/15 border border-white/25",children:e.department.name}):null]})]}),r.jsx(n,{doc:e,specialty:i,galleryImages:d})]})})]}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-12 space-y-8",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[3fr_1fr] gap-8",children:[(0,r.jsxs)("section",{className:"bg-white p-8 rounded-xl shadow-sm border border-neutral-200",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-neutral-800 mb-4",children:["About ",e.name]}),e.description?r.jsx("div",{className:"prose prose-green max-w-none text-neutral-700",dangerouslySetInnerHTML:{__html:e.description}}):r.jsx("p",{className:"text-neutral-600 leading-relaxed",children:e.bio||"This doctor has not added a biography yet."}),c&&(0,r.jsxs)("div",{className:"mt-6 space-y-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-800",children:"Profile Video"}),r.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-neutral-200",children:r.jsx("iframe",{src:c,title:`${e.name} video`,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]}),o.length>0&&(0,r.jsxs)("div",{className:"mt-6 space-y-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-800",children:"Medical Qualifications"}),r.jsx("ul",{className:"space-y-2 text-neutral-700 text-sm",children:o.map((e,t)=>(0,r.jsxs)("li",{className:"leading-tight",children:[r.jsx("span",{className:"font-semibold",children:e.degree}),(e.institution||e.year)&&(0,r.jsxs)("span",{className:"text-neutral-600",children:[" ","— ",e.institution||"",e.institution&&e.year?", ":"",e.year||""]})]},t))})]})]}),(0,r.jsxs)("aside",{className:"lg:pl-4 lg:border-l lg:border-emerald-100 space-y-4 lg:sticky lg:top-24 h-fit",children:[r.jsx("h3",{className:"text-lg font-semibold text-neutral-800",children:"Other doctors you can consult"}),r.jsx("div",{className:"space-y-4",children:a.slice(0,3).map(e=>r.jsx(l.Z,{doctor:e,variant:"compact"},e._id))})]})]})}),r.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"Physician",name:e.name,medicalSpecialty:e.specialties||[]})}})]})}catch(e){return r.jsx("div",{className:"p-6 text-red-600",children:"Doctor not found"})}}},12152:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/doctors/error.js#default`)},48736:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(19510);function s(){return r.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 animate-pulse",children:[...Array(6)].map((e,t)=>r.jsx("div",{className:"h-32 bg-gray-200 rounded"},t))})}},27689:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(19510),s=a(57371);function l({text:e,term:t}){if(!t)return e;let a=RegExp(`(${t.replace(/[.*+?^${}()|[\\]\\\\]/g,"\\$&")})`,"i");return e.split(a).map((e,t)=>a.test(e)?r.jsx("mark",{className:"bg-yellow-100 text-inherit",children:e},t):r.jsx("span",{children:e},t))}function n({doctor:e,variant:t,highlightTerm:a}){let n="compact"===t,i=e.department?.name||e.department?.title||e.departmentName,o=e.degree||e.qualification||e.qualifications?.[0];return(0,r.jsxs)(s.default,{href:`/doctors/${e.slug}`,className:`
        bg-white rounded-2xl shadow-sm hover:shadow-md transition-all duration-200
        border border-neutral-200 flex flex-col items-center text-center ${n?"p-4":"p-5"}
      `,children:[r.jsx("div",{className:`${n?"w-28 h-28":"w-36 h-36"} rounded-full bg-neutral-100 overflow-hidden mb-4 shadow-sm`,children:e.photo||e.image?r.jsx("img",{src:e.photo||e.image,alt:e.name,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-400",children:"No Image"})}),r.jsx("h3",{className:"text-base font-semibold text-[#10231a] group-hover:text-primary-teal transition",children:r.jsx(l,{text:e.name,term:a})}),(i||o)&&(0,r.jsxs)("div",{className:"flex flex-col items-center gap-1 mt-2",children:[i&&r.jsx("p",{className:"text-sm font-semibold text-[#2F8D59]",children:r.jsx(l,{text:i,term:a})}),o&&r.jsx("p",{className:"text-xs text-[#4c5f68]",children:r.jsx(l,{text:o,term:a})})]}),r.jsx("span",{className:`inline-block ${n?"mt-3":"mt-4"} text-primary-teal font-medium text-sm hover:underline`,children:"View Profile →"})]})}},35144:(e,t,a)=>{"use strict";a.d(t,{R1:()=>i,f8:()=>l});let r="http://localhost:5000/api".replace(/\/$/,""),s=r.endsWith("/api")?r:`${r}/api`;function l(e=""){let t=e.startsWith("/")?e:`/${e}`,a=`${s}${t}`;return console.log("[api] request url:",a),a}async function n(e){let t=await e.json().catch(()=>({}));if(!e.ok){let a=Error(t?.message||"Request failed");throw a.status=e.status,a}return t}async function i(e){return n(await fetch(l(e),{method:"GET",credentials:"include"}))}},57371:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(670),s=a.n(r)},670:(e,t,a)=>{"use strict";let{createProxy:r}=a(68570);e.exports=r("/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/node_modules/next/dist/client/link.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,829,9143],()=>a(28403));module.exports=r})();