(()=>{var e={};e.id=5644,e.ids=[5644],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},60927:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),t(39785),t(49328),t(20784),t(89204),t(35866);var l=t(23191),a=t(88716),r=t(37922),o=t.n(r),i=t(95231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(s,n);let d=["",{children:["health-programs",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,39785)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/health-programs/[slug]/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,49328)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/layout.js"],error:[()=>Promise.resolve().then(t.bind(t,20784)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/error.js"],loading:[()=>Promise.resolve().then(t.bind(t,89204)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/loading.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/health-programs/[slug]/page.js"],m="/health-programs/[slug]/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new l.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/health-programs/[slug]/page",pathname:"/health-programs/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},40066:(e,s,t)=>{Promise.resolve().then(t.bind(t,68855))},68855:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var l=t(10326),a=t(17577),r=t(35047),o=t(89420),i=t(6168);let n="w-full rounded-xl border px-4 py-3 text-sm focus:outline-none transition";function d({program:e,open:s,onClose:t}){let[r,d]=(0,a.useState)({name:"",email:"",phone:"",country:"",preferredStartDate:"",mode:"online",people:1,notes:""}),[c,m]=(0,a.useState)(!1),[x,p]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),b=(0,l.jsxs)("div",{className:"space-y-2 text-sm text-[#10231a]",children:[(0,l.jsxs)("div",{className:"rounded-lg bg-[#fff7ed] border border-[#f2d5b1] px-3 py-2",children:[l.jsx("p",{className:"font-semibold text-[#c2410c]",children:"Important"}),l.jsx("p",{children:"Extra charges apply for any activities or services not listed in the program description."})]}),(0,l.jsxs)("div",{className:"rounded-lg bg-[#fef2f2] border border-[#fecdd3] px-3 py-2",children:[l.jsx("p",{className:"font-semibold text-[#be123c]",children:"Refund Policy"}),l.jsx("p",{children:"After payment, booking cancellations will incur a 10% deduction of the total booking cost."})]})]});if(!s||!e)return null;let g=Number(e.pricing?.[r.mode])||0,f=Number(r.people)||1,j=g*f,y=e=>{let{name:s,value:t}=e.target;if("people"===s){let e=Math.max(1,Number(t)||1);d(s=>({...s,people:e}))}else d(e=>({...e,[s]:t}))},N=()=>{p(!1),h(null),d({name:"",email:"",phone:"",country:"",preferredStartDate:"",mode:"online",people:1,notes:""}),t?.()},v=async s=>{if(s.preventDefault(),!r.name||!r.email||!r.phone||!r.mode){alert("Please fill required fields.");return}m(!0);try{let s=await (0,o.sg)("/health-program-bookings",{programId:e._id,programTitle:e.title,userName:r.name,email:r.email,phone:r.phone,country:r.country,preferredStartDate:r.preferredStartDate,mode:r.mode,numberOfPeople:Number(r.people)||1,notes:r.notes});h(s?.data?._id||s?._id||null),p(!0)}catch(e){alert((0,i.i)(e,"Failed to place booking"))}m(!1)},w=async()=>{if(u)try{let e=await (0,o.sg)("/payments/stripe/checkout",{bookingId:u,type:"health_program"});e?.url&&(window.location.href=e.url)}catch(e){alert((0,i.i)(e,"Unable to start payment"))}};return l.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-start justify-center px-4 py-10",onClick:N,children:(0,l.jsxs)("div",{className:"w-full max-w-3xl max-h-[90vh] bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-y-auto p-6 md:p-8 space-y-6",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-teal-600 font-semibold",children:"Book this program"}),l.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:e.title}),l.jsx("p",{className:"text-sm text-slate-600",children:e.durationInDays?`${e.durationInDays} days`:""})]}),l.jsx("button",{onClick:N,className:"text-slate-500 hover:text-slate-900 font-semibold",children:"âœ•"})]}),x?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm",children:[(0,l.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[l.jsx("p",{className:"text-slate-600",children:"Mode"}),l.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:r.mode})]}),(0,l.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[l.jsx("p",{className:"text-slate-600",children:"People"}),l.jsx("p",{className:"font-semibold text-slate-900",children:r.people})]}),(0,l.jsxs)("div",{className:"rounded-xl border-2 border-teal-600 bg-teal-50 px-4 py-3",children:[l.jsx("p",{className:"text-teal-700 font-semibold",children:"Total amount"}),(0,l.jsxs)("p",{className:"text-lg font-bold text-slate-900",children:["$",j]})]})]}),b,(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("button",{onClick:w,className:"flex-1 inline-flex justify-center items-center rounded-full bg-teal-600 text-white text-sm font-semibold px-4 py-3 hover:bg-teal-700 transition",children:"Pay now with Stripe"}),l.jsx("button",{onClick:()=>{alert("Booking placed successfully. Pay later to confirm."),N()},className:"flex-1 inline-flex justify-center items-center rounded-full border border-slate-300 text-slate-900 text-sm font-semibold px-4 py-3 hover:bg-slate-50 transition",children:"Pay later"})]})]}):(0,l.jsxs)("form",{className:"space-y-4",onSubmit:v,children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-semibold text-slate-800",children:"Full Name"}),l.jsx("input",{name:"name",value:r.name,onChange:y,className:`${n} border-slate-200`,required:!0})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-semibold text-slate-800",children:"Email"}),l.jsx("input",{name:"email",type:"email",value:r.email,onChange:y,className:`${n} border-slate-200`,required:!0})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-semibold text-slate-800",children:"Phone"}),l.jsx("input",{name:"phone",value:r.phone,onChange:y,className:`${n} border-slate-200`,required:!0})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-semibold text-slate-800",children:"Country"}),l.jsx("input",{name:"country",value:r.country,onChange:y,className:`${n} border-slate-200`})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-semibold text-slate-800",children:"Preferred Start Date"}),l.jsx("input",{name:"preferredStartDate",type:"date",value:r.preferredStartDate,onChange:y,className:`${n} border-slate-200`})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-semibold text-slate-800",children:"Number of People"}),l.jsx("input",{name:"people",type:"number",min:1,value:r.people,onChange:y,className:`${n} border-slate-200`})]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-semibold text-slate-800",children:"Joining mode"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:["online","residential","dayVisitor"].map(s=>(0,l.jsxs)("label",{className:`rounded-xl border px-4 py-3 cursor-pointer transition ${r.mode===s?"border-teal-600 bg-teal-50":"border-slate-200 bg-white hover:border-teal-300"}`,children:[l.jsx("input",{type:"radio",name:"mode",value:s,checked:r.mode===s,onChange:y,className:"hidden"}),l.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:s}),(0,l.jsxs)("p",{className:"text-sm text-slate-600",children:["$",e.pricing?.[s]||0," / person"]})]},s))})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm font-semibold text-slate-800",children:"Additional Notes"}),l.jsx("textarea",{name:"notes",rows:3,value:r.notes,onChange:y,className:`${n} border-slate-200 resize-none`,placeholder:"Share any preferences"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm",children:[(0,l.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[l.jsx("p",{className:"text-slate-600",children:"Price per person"}),(0,l.jsxs)("p",{className:"font-semibold text-slate-900",children:["$",g]})]}),(0,l.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[l.jsx("p",{className:"text-slate-600",children:"People"}),l.jsx("p",{className:"font-semibold text-slate-900",children:f})]}),(0,l.jsxs)("div",{className:"rounded-xl border-2 border-teal-600 bg-teal-50 px-4 py-3",children:[l.jsx("p",{className:"text-teal-700 font-semibold",children:"Total amount"}),(0,l.jsxs)("p",{className:"text-lg font-bold text-slate-900",children:["$",j]})]})]}),b,(0,l.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 rounded-full border border-slate-200 text-slate-900 hover:bg-slate-50 transition",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:c,className:"px-5 py-2 rounded-full bg-teal-600 text-white text-sm font-semibold hover:bg-teal-700 transition disabled:opacity-60",children:c?"Booking...":"Book Program"})]})]})]})})}function c(){(0,r.useParams)();let[e,s]=(0,a.useState)(null),[t,o]=(0,a.useState)(!1),i=(0,a.useMemo)(()=>e?.galleryImages||[],[e?.galleryImages]),n=(0,a.useMemo)(()=>(Array.isArray(e?.promoVideos)?e.promoVideos:[]).map(e=>"string"==typeof e?e:e?.url).filter(Boolean),[e?.promoVideos]),c=e?.videoUrl||n[0]||null,m=(0,a.useMemo)(()=>{let s=i.length?i:[],t=e?.coverImage||"/images/hero-placeholder.jpg";return s.length?s:[t]},[i,e?.coverImage]),[x,p]=(0,a.useState)(0);(0,a.useMemo)(()=>{let e=[{id:"overview",label:"Overview"},{id:"inclusions",label:"Inclusions"},{id:"outcomes",label:"Outcomes"},{id:"join",label:"Join this program"}];return i.length&&e.push({id:"gallery",label:"Gallery"}),c&&e.push({id:"video",label:"Video"}),e},[i.length,c]),(0,a.useCallback)(e=>{let s=document.getElementById(e);s&&s.scrollIntoView({behavior:"smooth",block:"start"})},[]);let u=!e,h=e?.title||"Health Program",b=e?.shortDescription||"";return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("section",{className:"relative h-screen min-h-screen w-full overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0",children:m.map((e,s)=>{let t=s===x;return l.jsx("img",{src:e,alt:h||`Program ${s+1}`,className:"absolute inset-0 h-full w-full object-cover",style:{opacity:t?1:0,transition:"opacity 1.2s ease, transform 8s ease",transform:t?"scale(1.05)":"scale(1)"}},`${e}-${s}`)})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/60 to-black/80"}),l.jsx("div",{className:"relative z-10 flex h-full items-center",children:l.jsx("div",{className:"w-full max-w-6xl mx-auto px-6 sm:px-10",children:(0,l.jsxs)("div",{className:"max-w-4xl space-y-4 text-white",children:[l.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-white/10 border border-white/20 text-xs tracking-[0.25em] uppercase",children:"Health Program"}),l.jsx("h1",{className:"text-4xl sm:text-5xl font-semibold leading-tight",children:h}),b?l.jsx("p",{className:"text-base sm:text-lg text-white/90 leading-relaxed",children:b}):null,l.jsx("button",{onClick:()=>o(!0),className:"mt-2 inline-flex items-center justify-center px-6 py-3 rounded-full bg-teal-500 hover:bg-teal-400 text-white font-semibold shadow-lg transition",children:"Book Now"})]})})})]}),(0,l.jsxs)("div",{className:"w-full max-w-6xl xl:max-w-6xl 2xl:max-w-[1200px] mx-auto px-4 sm:px-6 py-12 space-y-12",children:[u?l.jsx("div",{className:"text-sm text-[#4c5f68]",children:"Loading..."}):null,(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-start",children:[(0,l.jsxs)("div",{className:"rounded-2xl border border-[#dfe8e2] bg-white shadow-sm p-5 space-y-3",id:"inclusions",children:[l.jsx("h3",{className:"text-lg font-semibold text-[#0f1f17]",children:"Inclusions"}),l.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 list-none",children:(e?.inclusions||[]).map((e,s)=>(0,l.jsxs)("li",{className:"flex items-start gap-2 text-sm text-[#1d3329]",children:[l.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-[#2F8D59]"}),l.jsx("span",{children:e})]},s))})]}),(0,l.jsxs)("div",{className:"rounded-2xl border border-[#dfe8e2] bg-white shadow-sm p-5 space-y-3",id:"outcomes",children:[l.jsx("h3",{className:"text-lg font-semibold text-[#0f1f17]",children:"Outcomes"}),e?.outcomes?.length?l.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 list-none",children:(e.outcomes||[]).map((e,s)=>(0,l.jsxs)("li",{className:"flex items-start gap-2 text-sm text-[#1d3329]",children:[l.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-[#2F8D59]"}),l.jsx("span",{children:e})]},s))}):l.jsx("p",{className:"text-sm text-[#4c5f68]",children:"Outcomes will be added soon."})]}),l.jsx("div",{className:"space-y-4",id:"join",children:(0,l.jsxs)("div",{className:"rounded-2xl border border-[#dfe8e2] bg-white shadow-sm p-5 space-y-4 sticky top-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-[#2F8D59] font-semibold",children:"Join this program"}),e?.durationInDays?(0,l.jsxs)("span",{className:"text-xs text-[#4c5f68] font-medium",children:[e.durationInDays," days"]}):null]}),l.jsx("p",{className:"text-xs text-[#4c5f68] font-medium",children:"Choose how you want to attend"}),l.jsx("div",{className:"space-y-2",children:(e?.modesAvailable||[]).map(s=>{let t="dayVisitor"===s?"Day Visitor":s.charAt(0).toUpperCase()+s.slice(1);return(0,l.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-[#e3ebe5] px-3 py-3 hover:border-[#2F8D59] hover:shadow transition",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-semibold text-[#0f1f17]",children:t}),l.jsx("p",{className:"text-xs text-[#4c5f68]",children:{online:"Learn and participate from home",residential:"Stay at our hospital during the program",dayVisitor:"Visit daily without overnight stay"}[s]||""})]}),(0,l.jsxs)("p",{className:"text-lg font-bold text-[#2F8D59]",children:["$",e?.pricing?.[s]||0]})]},s)})}),l.jsx("button",{onClick:()=>o(!0),className:"w-full rounded-full bg-[#2F8D59] hover:bg-[#27784c] text-white font-semibold py-3 transition",children:"Book Now"})]})})]}),(0,l.jsxs)("div",{className:"rounded-2xl border border-[#dfe8e2] bg-white shadow-sm p-6 space-y-3",id:"overview",children:[l.jsx("h2",{className:"text-xl font-semibold text-[#0f1f17]",children:"Overview"}),l.jsx("div",{className:"prose prose-slate max-w-none",dangerouslySetInnerHTML:{__html:e?.longDescription||""}})]}),c?(0,l.jsxs)("div",{className:"rounded-2xl border border-[#dfe8e2] bg-white shadow-sm p-4",id:"video",children:[l.jsx("h3",{className:"text-sm uppercase tracking-[0.2em] text-[#4c5f68] font-semibold mb-3",children:"Program Video"}),(()=>{if(/youtube\.com|youtu\.be|vimeo\.com/.test(c||"")){let e=c;if(e.includes("watch?v="))e=e.replace("watch?v=","embed/");else if(e.includes("youtu.be/")){let s=e.split("youtu.be/")[1]?.split(/[?&]/)[0];s&&(e=`https://www.youtube.com/embed/${s}`)}else if(e.includes("youtube.com/shorts/")){let s=e.split("youtube.com/shorts/")[1]?.split(/[?&]/)[0];s&&(e=`https://www.youtube.com/embed/${s}`)}else if(e.includes("vimeo.com/")){let s=e.split("vimeo.com/")[1]?.split(/[?&]/)[0];s&&(e=`https://player.vimeo.com/video/${s}`)}return l.jsx("iframe",{src:e,className:"w-full aspect-video rounded-xl border border-[#dfe8e2]",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Program video"})}return l.jsx("video",{src:c,controls:!0,muted:!0,className:"w-full rounded-xl border border-[#dfe8e2]"})})()]}):null]}),l.jsx("button",{onClick:()=>o(!0),className:"fixed bottom-4 right-4 md:right-8 z-40 shadow-xl rounded-full bg-teal-600 hover:bg-teal-500 text-white font-semibold px-5 py-3",children:"Book Now"}),t&&l.jsx(d,{program:e,open:t,onClose:()=>o(!1)})]})}},6168:(e,s,t)=>{"use strict";function l(e,s="Something went wrong"){if(!e)return s;let t=e.response?.data||e.data;if(t?.errors&&"object"==typeof t.errors){let e=Object.values(t.errors).flatMap(e=>Array.isArray(e?._errors)?e._errors:[]).filter(Boolean);if(e.length)return e.join(", ")}return t?.message?t.message:"string"==typeof e?e:e.message?e.message:s}t.d(s,{i:()=>l})},39785:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});let l=(0,t(68570).createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/health-programs/[slug]/page.js#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),l=s.X(0,[8948,829,9143],()=>t(60927));module.exports=l})();