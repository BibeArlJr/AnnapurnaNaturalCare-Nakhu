(()=>{var e={};e.id=8355,e.ids=[8355],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},45289:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(33852),a(30570),a(9355),a(49328),a(20784),a(89204),a(35866);var s=a(23191),r=a(88716),n=a(37922),l=a.n(n),i=a(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let d=["",{children:["departments",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,33852)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/departments/[slug]/page.js"]}]},{}]},{error:[()=>Promise.resolve().then(a.bind(a,30570)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/departments/error.js"],loading:[()=>Promise.resolve().then(a.bind(a,9355)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/departments/loading.js"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,49328)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/layout.js"],error:[()=>Promise.resolve().then(a.bind(a,20784)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/error.js"],loading:[()=>Promise.resolve().then(a.bind(a,89204)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/loading.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/departments/[slug]/page.js"],m="/departments/[slug]/page",u={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/departments/[slug]/page",pathname:"/departments/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},21360:(e,t,a)=>{Promise.resolve().then(a.bind(a,92815))},56969:(e,t,a)=>{Promise.resolve().then(a.bind(a,34093)),Promise.resolve().then(a.bind(a,50785)),Promise.resolve().then(a.t.bind(a,79404,23))},92815:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(10326);function r({reset:e}){return(0,s.jsxs)("div",{className:"p-6 space-y-3",children:[s.jsx("p",{className:"text-red-600 font-semibold",children:"Failed to load departments."}),s.jsx("button",{onClick:()=>e?.(),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Retry"})]})}},34093:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var s=a(10326),r=a(17577);function n({images:e=[]}){let t=(0,r.useMemo)(()=>(e||[]).map(e=>"string"==typeof e?e:e?.url).filter(Boolean),[e]),[a,n]=(0,r.useState)(0);return t.length?(0,s.jsxs)("div",{className:"relative w-full aspect-[16/10] md:aspect-[4/3] max-h-[320px] rounded-xl overflow-hidden bg-[#e3ece6] border border-[#cfe8d6]",children:[s.jsx("img",{src:t[a],alt:"Department visual",className:"w-full h-full object-cover",loading:"lazy"}),t.length>1&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{type:"button","aria-label":"Previous image",onClick:()=>n(e=>(e-1+t.length)%t.length),className:"absolute left-3 top-1/2 -translate-y-1/2 h-9 w-9 rounded-full bg-black/40 text-white backdrop-blur flex items-center justify-center hover:bg-black/60 transition",children:"‹"}),s.jsx("button",{type:"button","aria-label":"Next image",onClick:()=>n(e=>(e+1)%t.length),className:"absolute right-3 top-1/2 -translate-y-1/2 h-9 w-9 rounded-full bg-black/40 text-white backdrop-blur flex items-center justify-center hover:bg-black/60 transition",children:"›"}),s.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex items-center gap-2",children:t.map((e,t)=>s.jsx("button",{"aria-label":`Go to slide ${t+1}`,onClick:()=>n(t),className:`h-2.5 w-2.5 rounded-full transition ${t===a?"bg-white shadow-md":"bg-white/50 hover:bg-white/80"}`},t))})]})]}):null}},50785:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var s=a(10326),r=a(17577);function n({videos:e}){let t=(0,r.useMemo)(()=>(function(e=[]){return e.map(e=>"string"==typeof e?e:e?.url).filter(Boolean)})(e),[e]),[a,n]=(0,r.useState)(0);if(!t.length)return null;let l=t[a],i=/youtube\.com|youtu\.be/.test(l),o=i?l.replace("watch?v=","embed/").replace("youtu.be/","www.youtube.com/embed/"):l;return(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("div",{className:"relative w-full overflow-hidden rounded-2xl border border-[#cfe8d6] bg-white shadow-sm",children:i?s.jsx("iframe",{src:o,className:"w-full aspect-video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Department video"}):s.jsx("video",{src:l,controls:!0,className:"w-full h-full max-h-[460px] bg-black rounded-2xl",preload:"metadata"})}),t.length>1&&s.jsx("div",{className:"flex items-center justify-center gap-2",children:t.map((e,t)=>s.jsx("button",{onClick:()=>n(t),className:`h-2.5 w-2.5 rounded-full ${t===a?"bg-[#2F8D59]":"bg-[#cfe8d6]"}`,"aria-label":`Video ${t+1}`},t))})]})}},33852:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x,dynamic:()=>u,generateMetadata:()=>p,revalidate:()=>m});var s=a(19510),r=a(35144),n=a(57371),l=a(27689),i=a(36689),o=a(68570);let d=(0,o.createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/components/DepartmentMediaCarousel.jsx#default`),c=(0,o.createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/components/DepartmentVideoCarousel.jsx#default`),m=0,u="force-dynamic";async function p({params:e}){try{let t=(await (0,r.R1)(`/departments/${e.slug}`)).data;return{title:`${t.name} – Annapurna Hospital`,description:t.description}}catch(e){return{title:"Department – Annapurna Hospital",description:"Department details at Annapurna Hospital."}}}async function x({params:e}){let t=(await (0,r.R1)(`/departments/${e.slug}`)).data,a=Array.from(new Set([t.coverImage,t.heroImage,t.image,...t.images||[]].map(e=>"string"==typeof e?e:e?.url).filter(Boolean))),o=t.videos||[],m=[];try{m=(await (0,r.R1)(`/doctors?department=${t.slug}&status=published`)).data||[]}catch(e){m=[]}return(0,s.jsxs)("div",{className:"min-h-screen bg-[#f5f8f4]",children:[(0,s.jsxs)(i.Z,{className:"py-12 md:py-16 space-y-12",children:[(0,s.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-center",children:[s.jsx("div",{className:"w-full",children:s.jsx(d,{images:a.length?a:["/placeholder.png"]})}),(0,s.jsxs)("div",{className:"space-y-3 self-center",children:[s.jsx("p",{className:"text-xs uppercase tracking-wider text-[#2F8D59]",children:"About the Department"}),s.jsx("h1",{className:"text-3xl md:text-4xl font-semibold text-[#10231a]",children:t.name}),t.shortTagline||t.tagline?s.jsx("div",{className:"mt-2 pl-3 border-l-2 border-[#cfe8d6]",children:s.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:t.shortTagline||t.tagline})}):null]})]}),(0,s.jsxs)("section",{className:"bg-white rounded-2xl border border-[#cfe8d6] shadow-sm p-6 md:p-8 space-y-3",children:[s.jsx("h2",{className:"text-2xl font-semibold text-[#10231a]",children:"Description"}),s.jsx("div",{className:"prose prose-green max-w-none",dangerouslySetInnerHTML:{__html:t.description||""}})]}),o.length>0&&(0,s.jsxs)("section",{className:"bg-white rounded-2xl border border-[#cfe8d6] shadow-sm p-6 md:p-8 space-y-3",children:[s.jsx("h2",{className:"text-2xl font-semibold text-[#10231a]",children:"Department Videos"}),s.jsx("p",{className:"text-sm text-[#4c5f68]",children:"Highlights and walkthroughs from our team."}),s.jsx(c,{videos:o})]}),(0,s.jsxs)("section",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-2xl font-semibold text-[#10231a]",children:["Doctors in ",t.name]}),s.jsx("div",{className:"mt-2 h-px bg-[#dfe8e2]"})]}),0===m.length&&s.jsx("p",{className:"text-sm text-[#5a695e]",children:"No doctors have been added to this department yet."}),s.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 ${1===m.length?"justify-items-center":""}`,children:m.map(e=>s.jsx(l.Z,{doctor:e},e._id))})]})]}),s.jsx("section",{className:"bg-gradient-to-r from-[#e3f2ea] via-[#d6ecf2] to-[#e3f2ea]",children:(0,s.jsxs)(i.Z,{className:"py-14 md:py-16 text-center space-y-4",children:[s.jsx("h3",{className:"text-2xl font-semibold text-[#10231a]",children:"Consult our specialists in this department"}),s.jsx("p",{className:"text-sm md:text-base text-[#4c5f68] max-w-3xl mx-auto",children:"Book an appointment to discuss personalized care plans and start your healing journey."}),s.jsx(n.default,{href:`/appointments?department=${t.slug}`,className:"inline-flex items-center justify-center rounded-full bg-[#2F8D59] px-6 py-3 text-sm font-semibold text-white shadow-sm transition-colors duration-200 hover:bg-[#27784c]",children:"Book an Appointment"})]})}),s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"MedicalDepartment",name:t.name,description:t.description})}})]})}},30570:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/departments/error.js#default`)},9355:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(19510);function r(){return s.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 animate-pulse",children:[...Array(6)].map((e,t)=>s.jsx("div",{className:"h-24 bg-gray-200 rounded"},t))})}},36689:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(19510);function r({className:e="",children:t}){return s.jsx("div",{className:`mx-auto w-full max-w-screen-xl px-4 md:px-6 lg:px-8 ${e}`,children:t})}},27689:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(19510),r=a(57371);function n({text:e,term:t}){if(!t)return e;let a=RegExp(`(${t.replace(/[.*+?^${}()|[\\]\\\\]/g,"\\$&")})`,"i");return e.split(a).map((e,t)=>a.test(e)?s.jsx("mark",{className:"bg-yellow-100 text-inherit",children:e},t):s.jsx("span",{children:e},t))}function l({doctor:e,variant:t,highlightTerm:a}){let l="compact"===t,i=e.department?.name||e.department?.title||e.departmentName,o=e.degree||e.qualification||e.qualifications?.[0];return(0,s.jsxs)(r.default,{href:`/doctors/${e.slug}`,className:`
        bg-white rounded-2xl shadow-sm hover:shadow-md transition-all duration-200
        border border-neutral-200 flex flex-col items-center text-center ${l?"p-4":"p-5"}
      `,children:[s.jsx("div",{className:`${l?"w-28 h-28":"w-36 h-36"} rounded-full bg-neutral-100 overflow-hidden mb-4 shadow-sm`,children:e.photo||e.image?s.jsx("img",{src:e.photo||e.image,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-400",children:"No Image"})}),s.jsx("h3",{className:"text-base font-semibold text-[#10231a] group-hover:text-primary-teal transition",children:s.jsx(n,{text:e.name,term:a})}),(i||o)&&(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1 mt-2",children:[i&&s.jsx("p",{className:"text-sm font-semibold text-[#2F8D59]",children:s.jsx(n,{text:i,term:a})}),o&&s.jsx("p",{className:"text-xs text-[#4c5f68]",children:s.jsx(n,{text:o,term:a})})]}),s.jsx("span",{className:`inline-block ${l?"mt-3":"mt-4"} text-primary-teal font-medium text-sm hover:underline`,children:"View Profile →"})]})}},35144:(e,t,a)=>{"use strict";a.d(t,{R1:()=>i,f8:()=>n});let s="http://localhost:5000/api".replace(/\/$/,""),r=s.endsWith("/api")?s:`${s}/api`;function n(e=""){let t=e.startsWith("/")?e:`/${e}`,a=`${r}${t}`;return console.log("[api] request url:",a),a}async function l(e){let t=await e.json().catch(()=>({}));if(!e.ok){let a=Error(t?.message||"Request failed");throw a.status=e.status,a}return t}async function i(e){return l(await fetch(n(e),{method:"GET",credentials:"include"}))}},57371:(e,t,a)=>{"use strict";a.d(t,{default:()=>r.a});var s=a(670),r=a.n(s)},670:(e,t,a)=>{"use strict";let{createProxy:s}=a(68570);e.exports=s("/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/node_modules/next/dist/client/link.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8948,829,9143],()=>a(45289));module.exports=s})();