(()=>{var e={};e.id=620,e.ids=[620],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},94925:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),t(52626),t(5986),t(49328),t(20784),t(89204),t(35866);var l=t(23191),s=t(88716),r=t(37922),n=t.n(r),i=t(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(a,o);let d=["",{children:["admin",{children:["doctors",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,52626)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/admin/doctors/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5986)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/admin/layout.js"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,49328)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/layout.js"],error:[()=>Promise.resolve().then(t.bind(t,20784)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/error.js"],loading:[()=>Promise.resolve().then(t.bind(t,89204)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/loading.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/admin/doctors/page.js"],m="/admin/doctors/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new l.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/doctors/page",pathname:"/admin/doctors",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},31382:(e,a,t)=>{Promise.resolve().then(t.bind(t,80648))},82345:(e,a,t)=>{Promise.resolve().then(t.bind(t,69339))},80648:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>y});var l=t(10326),s=t(17577);let r=s.forwardRef(function({title:e,titleId:a,...t},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),s.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))});var n=t(43346),i=t(45558),o=t(89420),d=t(35271),c=t(28818),m=t(86457),x=t(6168);function u({open:e,onClose:a,onSaved:t}){let r=(0,s.useRef)(null),n=(0,s.useRef)(null),[i,u]=(0,s.useState)([]),[b,f]=(0,s.useState)(!1),[v,j]=(0,s.useState)(null),[N,y]=(0,s.useState)(""),[w,k]=(0,s.useState)(""),[P,C]=(0,s.useState)(""),[D,Z]=(0,s.useState)(""),[R,A]=(0,s.useState)({name:"",email:"",phone:"",departmentId:"",experience:"",degree:"",about:"",galleryImages:[],videoUrl:"",imageData:""}),[S,_]=(0,s.useState)(""),E="w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500";if(!e)return null;function M(e){let{name:a,value:t}=e.target;A(e=>({...e,[a]:t}))}function U(e){if(!e)return;let a=new FileReader;a.onloadend=()=>{A(e=>({...e,imageData:a.result})),j(a.result),y(e.name)},a.readAsDataURL(e)}async function B(e){if(e.preventDefault(),!R.name||!R.departmentId){alert("Name and department are required.");return}let l=Array.isArray(R.galleryImages)?R.galleryImages:[],s=l.filter(e=>e&&!e.startsWith("data:")),r=l.filter(e=>e&&e.startsWith("data:"));f(!0);try{await (0,o.sg)("/doctors",{name:R.name,email:R.email,phone:R.phone,departmentId:R.departmentId,experience:R.experience,degree:R.degree,bio:R.about,imageData:R.imageData,galleryImages:s,galleryImageData:r,videoUrl:R.videoUrl?.trim(),videoData:P||void 0}),Z("Doctor added"),t?.(),setTimeout(()=>a?.(),400)}catch(e){console.error(e),alert((0,x.i)(e,"Failed to save doctor"))}finally{f(!1)}}return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:(0,l.jsxs)("div",{className:"relative w-full max-w-3xl max-h-[90vh] bg-[#0d1218] border border-slate-800 rounded-2xl shadow-2xl flex flex-col",children:[D&&l.jsx("div",{className:"absolute left-5 top-4 bg-teal-600/15 border border-teal-500/50 text-teal-200 px-3 py-2 rounded-lg text-sm shadow",children:D}),l.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-300 hover:text-white bg-slate-700/40 hover:bg-slate-700 rounded-full p-2 transition",children:"✕"}),(0,l.jsxs)("div",{className:"px-6 pt-6 pb-3 border-b border-slate-800",children:[l.jsx("h2",{className:"text-xl font-semibold text-white",children:"Add Doctor"}),l.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Create a profile, assign a department, and upload media."})]}),(0,l.jsxs)("form",{onSubmit:B,className:"flex-1 overflow-y-auto px-6 pb-6 pt-4 space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Info"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm text-slate-300",children:"Name"}),l.jsx("input",{name:"name",required:!0,value:R.name,onChange:M,className:E,placeholder:"Dr. Jane Doe"})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm text-slate-300",children:"Department"}),l.jsx(d.Ri,{value:R.departmentId,onChange:e=>A(a=>({...a,departmentId:e})),children:(0,l.jsxs)("div",{className:"relative mt-1",children:[(0,l.jsxs)(d.Ri.Button,{className:"relative w-full cursor-pointer rounded-xl bg-slate-800 border border-slate-700 px-4 py-3 pr-10 text-left text-white focus:outline-none focus:ring-2 focus:ring-teal-500",children:[l.jsx("span",{children:i.find(e=>e._id===R.departmentId)?.name||"Select department"}),l.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:l.jsx(c.Z,{className:"h-5 w-5 text-gray-400"})})]}),(0,l.jsxs)(d.Ri.Options,{className:"absolute mt-2 max-h-60 w-full overflow-auto rounded-xl bg-slate-900 shadow-xl border border-slate-700 text-white focus:outline-none z-30",children:[i.map(e=>l.jsx(d.Ri.Option,{value:e._id,className:({active:e})=>`cursor-pointer select-none px-4 py-2 ${e?"bg-teal-700/70 text-white":"text-gray-200"}`,children:({selected:a})=>(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:a?"font-semibold":"",children:e.name}),a&&l.jsx(m.Z,{className:"h-5 w-5 text-teal-300"})]})},e._id)),0===i.length&&l.jsx("div",{className:"px-4 py-2 text-sm text-slate-400",children:"No departments"})]})]})})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm text-slate-300",children:"Email"}),l.jsx("input",{name:"email",type:"email",value:R.email,onChange:M,className:E,placeholder:"doctor@example.com"})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm text-slate-300",children:"Phone"}),l.jsx("input",{name:"phone",value:R.phone,onChange:M,className:E,placeholder:"+977-98xxxxxxx"})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm text-slate-300",children:"Experience (years)"}),l.jsx("input",{name:"experience",value:R.experience,onChange:M,className:E,placeholder:"10"})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm text-slate-300",children:"Degree"}),l.jsx("input",{name:"degree",value:R.degree,onChange:M,className:E,placeholder:"e.g., MD, MBBS"})]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-sm text-slate-300",children:"About"}),l.jsx("textarea",{name:"about",value:R.about,onChange:M,rows:4,className:`${E} resize-none`,placeholder:"Short biography and specialties."})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Media"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)(p,{title:"Profile photo",helper:"Drag/drop or click to upload.",children:[(0,l.jsxs)("div",{className:"border-2 border-dashed border-slate-700 bg-slate-900/40 rounded-xl p-4 flex flex-col gap-3 items-center justify-center text-slate-300 cursor-pointer hover:border-teal-500 transition",onDragOver:e=>e.preventDefault(),onDrop:function(e){e.preventDefault();let a=e.dataTransfer.files?.[0];a&&U(a)},onClick:()=>r.current?.click(),children:[l.jsx("input",{type:"file",accept:"image/*",ref:r,className:"hidden",onChange:function(e){let a=e.target.files?.[0];a&&U(a)}}),(0,l.jsxs)("div",{className:"text-center space-y-1",children:[l.jsx("p",{className:"font-medium",children:"Drop an image here or click to upload"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Recommended: square, under 5MB. JPG or PNG."})]}),N&&(0,l.jsxs)("p",{className:"text-xs text-teal-300",children:["Selected: ",N]})]}),v&&(0,l.jsxs)("div",{className:"w-full grid grid-cols-1 md:grid-cols-[140px_1fr] gap-3 items-center",children:[l.jsx("img",{src:v,alt:"Preview",className:"w-full max-w-[140px] h-28 object-cover rounded-lg border border-slate-700"}),l.jsx("p",{className:"text-xs text-slate-400",children:"This preview will be uploaded and saved."})]})]}),(0,l.jsxs)(p,{title:"Gallery images",helper:"Upload additional images.",children:[l.jsx(h,{accept:"image/png,image/jpeg,image/webp",multiple:!0,onChange:function(e){Array.from(e.target.files||[]).forEach(e=>{let a=new FileReader;a.onloadend=()=>{A(e=>({...e,galleryImages:[...e.galleryImages||[],a.result.toString()]}))},a.readAsDataURL(e)})},label:"Upload images",inputRef:n}),(R.galleryImages||[]).length>0&&l.jsx("div",{className:"flex flex-wrap gap-2",children:R.galleryImages.map((e,a)=>l.jsx(g,{src:e,onRemove:()=>{A(e=>({...e,galleryImages:(e.galleryImages||[]).filter((e,t)=>t!==a)}))}},e+a))}),l.jsx("p",{className:"text-[11px] text-slate-500",children:"Accepted: JPG/PNG/WEBP. Max 10 images."})]}),(0,l.jsxs)(p,{title:"Profile video",helper:"Upload a video or paste a link.",children:[l.jsx(h,{accept:"video/mp4,video/quicktime,video/webm",onChange:function(e){let a=e.target.files?.[0];if(!a)return;let t=new FileReader;t.onloadend=()=>{C(t.result.toString()),k(URL.createObjectURL(a)),A(e=>({...e,videoUrl:""}))},t.readAsDataURL(a)},label:"Upload video file"}),l.jsx("input",{name:"videoUrl",value:R.videoUrl,onChange:M,className:E,placeholder:"https://youtube.com/embed/..."}),w||R.videoUrl?l.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-700 bg-black",children:l.jsx("iframe",{src:w||R.videoUrl,className:"w-full aspect-video",title:"Doctor video preview",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})}):null]})]})]})]}),(0,l.jsxs)("div",{className:"mt-auto border-t border-slate-800 bg-[#0b1017] px-6 py-4 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 rounded-lg bg-slate-800 text-white hover:bg-slate-700 transition",children:"Cancel"}),l.jsx("button",{type:"submit",onClick:B,disabled:b,className:"px-4 py-2 rounded-lg bg-teal-600 text-white hover:bg-teal-500 transition disabled:opacity-70",children:b?"Saving...":"Save Doctor"})]})]})})}function p({title:e,helper:a,children:t}){return(0,l.jsxs)("div",{className:"space-y-3 rounded-xl border border-slate-800 bg-slate-900/70 p-4",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:e}),a?l.jsx("p",{className:"text-xs text-slate-400",children:a}):null]}),l.jsx("div",{className:"space-y-2",children:t})]})}function h({accept:e,multiple:a,onChange:t,label:s,inputRef:r}){return(0,l.jsxs)("label",{className:"flex flex-col items-center justify-center gap-2 rounded-xl border border-dashed border-slate-700 bg-slate-900/60 p-4 text-slate-300 cursor-pointer hover:border-teal-500 hover:bg-slate-900",children:[l.jsx("input",{type:"file",accept:e,multiple:a,ref:r,className:"hidden",onChange:e=>{t&&t(e)}}),l.jsx("span",{className:"text-xs text-slate-400",children:s}),l.jsx("span",{className:"text-[11px] text-slate-500",children:e||""})]})}function g({src:e,onRemove:a}){return(0,l.jsxs)("div",{className:"relative h-20 w-20 rounded-lg overflow-hidden border border-slate-700 bg-slate-800",children:[l.jsx("img",{src:e,className:"h-full w-full object-cover",alt:"Gallery"}),l.jsx("button",{type:"button",onClick:a,className:"absolute top-1 right-1 bg-black/70 text-white rounded-full text-xs px-1",children:"\xd7"})]})}var b=t(90434),f=t(68592),v=t(27411),j=t(14991);function N({doctor:e,onDelete:a,onToggleStatus:t,updatingStatus:s}){let r=e?.departmentId?.name||e?.department?.name||"Department",n=e?.experienceYears||e?.experience?`${e.experienceYears||e.experience} yrs`:null;return(0,l.jsxs)("div",{className:"bg-[#11151c] border border-white/10 rounded-xl p-5 hover:border-teal-600/40 transition shadow-sm",children:[l.jsx("img",{src:e.photo||"/placeholder-doctor.png",alt:e.name,className:"w-full h-32 object-cover rounded-xl mb-3",loading:"lazy"}),(0,l.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-2",children:[(0,l.jsxs)("div",{className:"min-w-0",children:[l.jsx("h3",{className:"text-lg font-semibold text-white line-clamp-1",children:e.name}),l.jsx("p",{className:"text-sm text-teal-300 line-clamp-1",children:r}),n&&(0,l.jsxs)("p",{className:"text-xs text-slate-400",children:["Experience: ",n]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[l.jsx(j.t,{status:e.status}),l.jsx(j.W,{status:e.status,onToggle:()=>t?.(e),disabled:s})]})]}),l.jsx("p",{className:"text-gray-400 text-sm line-clamp-3 mb-4",children:e.bio||"No bio provided."}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsx("span",{children:e.email||e.phone?[e.email,e.phone].filter(Boolean).join(" \xb7 "):"Contact not set"}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[l.jsx(b.default,{href:`/admin/doctors/${e._id}`,className:"p-2 rounded-md bg-slate-800 hover:bg-slate-700 transition",title:"Edit",children:l.jsx(f.Z,{className:"h-5 w-5 text-teal-300"})}),l.jsx("button",{onClick:()=>a?.(e._id),className:"p-2 rounded-md bg-slate-800 hover:bg-rose-700 transition",title:"Delete",children:l.jsx(v.Z,{className:"h-5 w-5 text-rose-300"})})]})]})]})}function y(){let[e,a]=(0,s.useState)([]),[t,d]=(0,s.useState)([]),[c,m]=(0,s.useState)(""),[x,p]=(0,s.useState)(!0),[h,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(null);async function v(){p(!0);try{let e=await (0,o.R1)("/doctors?includeDrafts=true"),t=e?.data||e||[];a(t),d(t)}catch(e){console.error("Doctor fetch error:",e)}p(!1)}async function j(e){if(confirm("Delete this doctor?"))try{await (0,o.QW)(`/doctors/${e}`),v()}catch(e){alert(e.message||"Failed to delete doctor")}}function y(e,t){a(a=>a.map(a=>a._id===e?{...a,status:t}:a)),d(a=>a.map(a=>a._id===e?{...a,status:t}:a))}async function w(e){let a="published"===e.status?"draft":"published";y(e._id,a),f(e._id);try{await (0,o.nc)(`/doctors/${e._id}/status`,{status:a})}catch(a){y(e._id,e.status),alert(a.message||"Failed to update status")}finally{f(null)}}return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("h1",{className:"text-2xl text-white font-semibold flex items-center gap-2",children:[l.jsx(r,{className:"h-7 w-7 text-teal-400"}),"Manage Doctors"]}),(0,l.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-500 text-white px-5 py-2 rounded-lg transition",children:[l.jsx(n.Z,{className:"h-5 w-5"}),"Add Doctor"]})]}),(0,l.jsxs)("div",{className:"relative w-full sm:w-80",children:[l.jsx(i.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),l.jsx("input",{value:c,onChange:a=>(function(a){m(a);let t=a.toLowerCase();d(e.filter(e=>{let a=e?.departmentId?.name||e?.department?.name||"";return e.name.toLowerCase().includes(t)||a.toLowerCase().includes(t)}))})(a.target.value),placeholder:"Search doctors...",className:"bg-[#11151c] border border-white/10 text-white rounded-lg py-3 pl-10 pr-3 w-full outline-none focus:border-teal-500"})]}),x&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 animate-pulse",children:Array.from({length:6}).map((e,a)=>l.jsx("div",{className:"h-36 bg-slate-800 rounded-xl"},a))}),!x&&0===t.length&&(0,l.jsxs)("div",{className:"text-center py-20 text-gray-400",children:[l.jsx(r,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),l.jsx("p",{children:"No doctors found."}),l.jsx("button",{onClick:()=>g(!0),className:"inline-block mt-4 bg-teal-600 hover:bg-teal-500 text-white px-5 py-2 rounded-lg transition",children:"Add First Doctor"})]}),!x&&t.length>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>l.jsx(N,{doctor:e,onDelete:j,onToggleStatus:w,updatingStatus:b===e._id},e._id))}),l.jsx(u,{open:h,onClose:()=>g(!1),onSaved:()=>{g(!1),v()}})]})}},69339:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>f});var l=t(10326),s=t(90434),r=t(35047),n=t(17577),i=t(60982),o=t(99731),d=t(8566),c=t(60531),m=t(69712),x=t(73891),u=t(93445),p=t(34899),h=t(14526),g=t(49634),b=t(55469);function f({children:e}){let a=(0,r.usePathname)();(0,r.useRouter)();let{user:t,loading:f,logout:v}=(0,b.a)(),[j,N]=(0,n.useState)({retreatBookings:0,healthPackages:0,healthPrograms:0,courses:0}),y=[{href:"/admin",label:"Dashboard",icon:i.Z},{href:"/admin/departments",label:"Departments",icon:o.Z},{href:"/admin/doctors",label:"Doctors",icon:d.Z},{label:"Appointments",icon:c.Z,children:[{href:"/admin/appointments",label:"General"},{href:"/admin/appointments/calendar",label:"Calendar"}]},{href:"/admin/blogs",label:"Blog Articles",icon:m.Z},{href:"/admin/reviews",label:"Patient Reviews",icon:m.Z},{href:"/admin/gallery",label:"Gallery",icon:x.Z},{href:"/admin/hero-images",label:"Hero Banner Images",icon:x.Z},{label:"Health Packages",icon:u.Z,countKey:"healthPackages",children:[{href:"/admin/packages",label:"Manage Packages"},{href:"/admin/package-bookings",label:"Package Bookings",countKey:"healthPackages"},{href:"/admin/package-bookings/calendar",label:"Calendar"},{href:"/admin/treatment-types",label:"Treatment Types"}]},{label:"Retreat Program",icon:p.Z,countKey:"retreatBookings",children:[{href:"/admin/retreat-programs",label:"Manage Programs"},{href:"/admin/retreat-destinations",label:"Retreat Destinations"},{href:"/admin/retreat-partner-hotels",label:"Partner Hotels"},{href:"/admin/retreat-bookings",label:"Retreat Bookings",countKey:"retreatBookings"}]},{label:"Health Programs",icon:u.Z,countKey:"healthPrograms",children:[{href:"/admin/health-programs",label:"Manage Programs"},{href:"/admin/health-program-bookings",label:"Health Program Bookings",countKey:"healthPrograms"}]},{label:"Courses",icon:o.Z,countKey:"courses",children:[{href:"/admin/courses",label:"Manage Courses"},{href:"/admin/course-categories",label:"Course Categories"},{href:"/admin/course-bookings",label:"Course Bookings",countKey:"courses"}]},{href:"/admin/billing",label:"Billing",icon:h.Z}],w="/admin/login"===a,[k,P]=(0,n.useState)(()=>{let e={};return y.forEach(t=>{t.children&&(e[t.label]=t.children.some(e=>a.startsWith(e.href)))}),e});if(!w&&(f||!t&&!f))return l.jsx("div",{className:"p-6",children:"Loading admin..."});if(w)return e;let C=e=>a===e?"bg-teal-600 text-white":"text-slate-300 hover:bg-slate-800",D=e=>e?l.jsx("span",{className:"absolute -top-2 -right-2 min-w-[20px] px-1.5 h-5 rounded-full bg-rose-600 text-white text-[10px] font-semibold flex items-center justify-center shadow-lg transition-opacity",children:e>99?"99+":e}):null;return(0,l.jsxs)("div",{className:"min-h-screen bg-slate-950 text-slate-100 flex",children:[(0,l.jsxs)("aside",{className:"hidden md:flex md:flex-col w-64 bg-slate-900 border-r border-slate-800",children:[l.jsx("div",{className:"h-16 flex items-center px-6 border-b border-slate-800",children:(0,l.jsxs)(s.default,{href:"/admin",className:"flex items-center gap-2",children:[l.jsx("img",{src:"/images/logo.png",alt:"Logo",className:"h-9 w-9 rounded-md object-cover"}),(0,l.jsxs)("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-semibold tracking-tight",children:"Admin Panel"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Annapurna Nature Cure"})]})]})}),l.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:y.map(e=>{let a=e.icon;if(e.children){let t=k[e.label];return(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>{var a;return a=e.label,void P(e=>({...e,[a]:!e[a]}))},className:`relative w-full flex items-center justify-between gap-3 px-3 py-2 rounded-lg text-sm transition ${t?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800"}`,children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[l.jsx(a,{className:"h-5 w-5"}),(0,l.jsxs)("span",{className:"relative inline-block",children:[e.label,D(e.countKey?j[e.countKey]:0)]})]}),l.jsx("span",{className:"text-xs text-slate-400",children:t?"−":"+"})]}),t&&l.jsx("div",{className:"pl-9 space-y-1",children:e.children.map(e=>l.jsx(s.default,{href:e.href,className:`relative flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition ${C(e.href)}`,children:(0,l.jsxs)("span",{className:"relative inline-block",children:[e.label,D(e.countKey?j[e.countKey]:0)]})},e.href))})]},e.label)}return(0,l.jsxs)(s.default,{href:e.href,className:`relative flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition ${C(e.href)}`,children:[l.jsx(a,{className:"h-5 w-5"}),(0,l.jsxs)("span",{className:"relative inline-block",children:[e.label,D(e.countKey?j[e.countKey]:0)]})]},e.href)})}),l.jsx("div",{className:"border-t border-slate-800 p-4",children:(0,l.jsxs)("button",{type:"button",onClick:v,className:"w-full inline-flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm bg-slate-800 hover:bg-slate-700 text-slate-200",children:[l.jsx(g.Z,{className:"h-5 w-5"}),l.jsx("span",{children:"Logout"})]})})]}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,l.jsxs)("header",{className:"h-16 flex items-center justify-between px-4 md:px-6 border-b border-slate-800 bg-slate-900/80 backdrop-blur",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Admin dashboard"}),l.jsx("h1",{className:"text-sm md:text-base font-semibold text-slate-50",children:function(){for(let e of y){if(e.href&&a.startsWith(e.href))return e.label;if(e.children){for(let t of e.children)if(a.startsWith(t.href))return t.label}}return"Overview"}()})]}),l.jsx("div",{className:"text-xs text-slate-300",children:t?.email?`Logged in as ${t.email}`:""})]}),l.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-950",children:l.jsx("div",{className:"max-w-6xl mx-auto px-4 md:px-6 py-6 md:py-8",children:e})})]})]})}t(89420)},14991:(e,a,t)=>{"use strict";t.d(a,{W:()=>r,t:()=>s});var l=t(10326);function s({status:e}){let a="published"===e;return l.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-[11px] font-semibold ${a?"bg-emerald-600/20 text-emerald-200 border border-emerald-500/40":"bg-slate-700/60 text-slate-200 border border-slate-600"}`,children:a?"Published":"Draft"})}function r({status:e,onToggle:a,disabled:t}){let s="published"===e;return l.jsx("button",{type:"button",onClick:a,disabled:t,className:`relative inline-flex h-7 w-12 items-center rounded-full border ${s?"bg-emerald-600/30 border-emerald-400":"bg-slate-700 border-slate-500"} transition disabled:opacity-60`,"aria-label":"Toggle publish",children:l.jsx("span",{className:`absolute left-1 h-5 w-5 rounded-full bg-white transition-transform ${s?"translate-x-5":"translate-x-0"}`})})}},6168:(e,a,t)=>{"use strict";function l(e,a="Something went wrong"){if(!e)return a;let t=e.response?.data||e.data;if(t?.errors&&"object"==typeof t.errors){let e=Object.values(t.errors).flatMap(e=>Array.isArray(e?._errors)?e._errors:[]).filter(Boolean);if(e.length)return e.join(", ")}return t?.message?t.message:"string"==typeof e?e:e.message?e.message:a}t.d(a,{i:()=>l})},52626:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});let l=(0,t(68570).createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/admin/doctors/page.js#default`)},5986:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});let l=(0,t(68570).createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/admin/layout.js#default`)},45558:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});var l=t(17577);let s=l.forwardRef(function({title:e,titleId:a,...t},s){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),e?l.createElement("title",{id:a},e):null,l.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))})},68592:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});var l=t(17577);let s=l.forwardRef(function({title:e,titleId:a,...t},s){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),e?l.createElement("title",{id:a},e):null,l.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),l.createElement("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"}))})},43346:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});var l=t(17577);let s=l.forwardRef(function({title:e,titleId:a,...t},s){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),e?l.createElement("title",{id:a},e):null,l.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))})},27411:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});var l=t(17577);let s=l.forwardRef(function({title:e,titleId:a,...t},s){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),e?l.createElement("title",{id:a},e):null,l.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))})}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),l=a.X(0,[8948,829,5388,9143],()=>t(94925));module.exports=l})();