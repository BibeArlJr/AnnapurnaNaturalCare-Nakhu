(()=>{var e={};e.id=6259,e.ids=[6259],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3501:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),a(13018),a(5986),a(49328),a(20784),a(89204),a(35866);var r=a(23191),n=a(88716),s=a(37922),l=a.n(s),o=a(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);a.d(t,i);let d=["",{children:["admin",{children:["blogs",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,13018)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/admin/blogs/new/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,5986)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/admin/layout.js"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,49328)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/layout.js"],error:[()=>Promise.resolve().then(a.bind(a,20784)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/error.js"],loading:[()=>Promise.resolve().then(a.bind(a,89204)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/loading.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/admin/blogs/new/page.js"],u="/admin/blogs/new/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/blogs/new/page",pathname:"/admin/blogs/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},40684:(e,t,a)=>{Promise.resolve().then(a.bind(a,28400))},28400:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var r=a(10326),n=a(17577),s=a(33265),l=a(35047),o=a(89420);a(24221);let i=(0,s.default)(async()=>{},{loadableGenerated:{modules:["components/BlogForm.js -> react-quill"]},ssr:!1}),d=["Wellness","Therapy","Rehab","Lifestyle","Ayurveda","Yoga"];function c(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function u({mode:e,initialData:t}){let a=(0,l.useRouter)(),s=(0,n.useRef)(null),u=(0,n.useRef)(null),[p,m]=(0,n.useState)(!1),h=t?.category||t?.categoryId?.name||t?.categoryId||"",[g,v]=(0,n.useState)({title:t?.title||"",slug:t?.slug||"",category:h,shortDescription:t?.shortDescription||"",content:t?.content||t?.body||""}),[x,b]=(0,n.useState)(t?.images||[]),[f,w]=(0,n.useState)(t?.videos||[]),[j,k]=(0,n.useState)(t?.youtubeLinks||[]),[y,N]=(0,n.useState)([]),[E,A]=(0,n.useState)([]),[L,C]=(0,n.useState)([]),[Z,M]=(0,n.useState)([]),[H,R]=(0,n.useState)([]),[S,V]=(0,n.useState)(""),P=(0,n.useMemo)(()=>new Set(t?.youtubeLinks||[]),[t]),D=(0,n.useMemo)(()=>new Set(t?.images||[]),[t]),_=(0,n.useMemo)(()=>new Set(t?.videos||[]),[t]);function B(e,t){v({...g,[e]:t})}async function O(r){if(r.preventDefault(),!g.title){alert("Title is required");return}m(!0);let n=new FormData;n.append("title",g.title),g.slug&&n.append("slug",g.slug),g.category&&n.append("category",g.category),n.append("shortDescription",g.shortDescription),n.append("content",g.content),x.forEach(e=>n.append("images",e)),f.forEach(e=>n.append("videos",e)),j.forEach(e=>n.append("youtubeLinks",e)),y.forEach(e=>n.append("removeExistingImages",e)),E.forEach(e=>n.append("removeExistingVideos",e)),L.forEach(e=>n.append("removeExistingYoutubeLinks",e)),Z.forEach(({file:e})=>n.append("imageFiles",e)),H.forEach(({file:e})=>n.append("videoFiles",e));try{"create"===e?await (0,o.sg)("/blogs",n):await (0,o.pE)(`/blogs/${t._id}`,n),a.push("/admin/blogs")}catch(e){alert(e.message||"Failed")}finally{m(!1)}}return(0,r.jsxs)("form",{onSubmit:O,className:"space-y-6 max-w-4xl",children:[r.jsx("input",{className:"border p-2 rounded w-full",placeholder:"Title",value:g.title,onChange:e=>{var t;return t=e.target.value,void v(e=>({...e,title:t,slug:e.slug||c(t)}))},required:!0}),r.jsx("input",{className:"border p-2 rounded w-full",placeholder:"Slug (optional)",value:g.slug,onChange:e=>B("slug",c(e.target.value))}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("label",{className:"block font-medium",children:"Short Description"}),r.jsx("input",{className:"border p-2 rounded w-full",placeholder:"Short teaser for cards",value:g.shortDescription,onChange:e=>B("shortDescription",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("label",{className:"block font-medium",children:"Category"}),(0,r.jsxs)("select",{className:"border p-2 rounded w-full",value:g.category,onChange:e=>B("category",e.target.value),children:[r.jsx("option",{value:"",children:"Select category"}),d.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",className:"bg-slate-800 text-white px-3 py-2 rounded",onClick:()=>s.current?.click(),children:"Add Images"}),Z.length>0&&(0,r.jsxs)("span",{className:"text-sm text-slate-600",children:[Z.length," new image(s)"]})]}),r.jsx("input",{ref:s,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:function(e){let t=Array.from(e.target.files||[]).map(e=>({file:e,preview:URL.createObjectURL(e)}));M(e=>[...e,...t])}}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[x.map(e=>(0,r.jsxs)("div",{className:"relative w-32 h-24",children:[r.jsx("img",{src:e,alt:"Existing",className:"w-full h-full object-cover rounded border"}),r.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-black/70 text-white text-xs rounded px-2 py-1",onClick:()=>{b(t=>t.filter(t=>t!==e)),D.has(e)&&N(t=>[...t,e])},children:"Remove"})]},e)),Z.map(({preview:e},t)=>(0,r.jsxs)("div",{className:"relative w-32 h-24",children:[r.jsx("img",{src:e,alt:"Upload",className:"w-full h-full object-cover rounded border"}),r.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-black/70 text-white text-xs rounded px-2 py-1",onClick:()=>M(e=>e.filter((e,a)=>a!==t)),children:"Remove"})]},e))]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",className:"bg-slate-800 text-white px-3 py-2 rounded",onClick:()=>u.current?.click(),children:"Add Videos"}),H.length>0&&(0,r.jsxs)("span",{className:"text-sm text-slate-600",children:[H.length," new video(s)"]})]}),r.jsx("input",{ref:u,type:"file",accept:"video/*",multiple:!0,className:"hidden",onChange:function(e){let t=Array.from(e.target.files||[]).map(e=>({file:e,preview:URL.createObjectURL(e)}));R(e=>[...e,...t])}}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[f.map(e=>(0,r.jsxs)("div",{className:"relative w-40",children:[r.jsx("video",{src:e,className:"w-full rounded border",controls:!0}),r.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-black/70 text-white text-xs rounded px-2 py-1",onClick:()=>{w(t=>t.filter(t=>t!==e)),_.has(e)&&A(t=>[...t,e])},children:"Remove"})]},e)),H.map(({preview:e},t)=>(0,r.jsxs)("div",{className:"relative w-40",children:[r.jsx("video",{src:e,className:"w-full rounded border",controls:!0}),r.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-black/70 text-white text-xs rounded px-2 py-1",onClick:()=>R(e=>e.filter((e,a)=>a!==t)),children:"Remove"})]},e))]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("label",{className:"block font-medium",children:"YouTube Links"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx("input",{className:"border p-2 rounded w-full",placeholder:"Paste YouTube link",value:S,onChange:e=>V(e.target.value)}),r.jsx("button",{type:"button",className:"bg-blue-600 text-white px-3 py-2 rounded",onClick:function(){let e=S.trim();e&&(k(t=>Array.from(new Set([...t,e]))),V(""))},children:"Add"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-2 bg-slate-100 text-slate-800 px-3 py-1 rounded-full text-sm",children:[e,r.jsx("button",{type:"button",onClick:()=>{k(t=>t.filter(t=>t!==e)),P.has(e)&&C(t=>[...t,e])},children:"âœ•"})]},e))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block font-medium mb-2",children:"Content"}),r.jsx(i,{theme:"snow",value:g.content,onChange:e=>B("content",e)})]}),r.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-60",disabled:p,children:p?"Saving...":"create"===e?"Create Blog":"Update Blog"})]})}},13018:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(19510);let n=(0,a(68570).createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/components/BlogForm.js#default`);function s(){return(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Add Blog"}),r.jsx(n,{mode:"create"})]})}},49634:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(17577);let n=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))})},60531:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(17577);let n=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))})},93445:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(17577);let n=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))})},14526:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(17577);let n=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},34899:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(17577);let n=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m6.115 5.19.319 1.913A6 6 0 0 0 8.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 0 0 2.288-4.042 1.087 1.087 0 0 0-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 0 1-.98-.314l-.295-.295a1.125 1.125 0 0 1 0-1.591l.13-.132a1.125 1.125 0 0 1 1.3-.21l.603.302a.809.809 0 0 0 1.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 0 0 1.528-1.732l.146-.292M6.115 5.19A9 9 0 1 0 17.18 4.64M6.115 5.19A8.965 8.965 0 0 1 12 3c1.929 0 3.716.607 5.18 1.64"}))})},60982:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(17577);let n=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))})},69712:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(17577);let n=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"}))})},73891:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(17577);let n=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))})},99731:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(17577);let n=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))})},8566:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(17577);let n=r.forwardRef(function({title:e,titleId:t,...a},n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))})}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,829,9143,5092],()=>a(3501));module.exports=r})();