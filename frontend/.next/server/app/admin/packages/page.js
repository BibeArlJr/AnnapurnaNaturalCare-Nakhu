(()=>{var e={};e.id=7181,e.ids=[7181],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},93339:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>o}),t(55146),t(5986),t(49328),t(20784),t(89204),t(35866);var s=t(23191),l=t(88716),r=t(37922),n=t.n(r),i=t(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(a,d);let o=["",{children:["admin",{children:["packages",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,55146)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/admin/packages/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5986)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/admin/layout.js"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,49328)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/layout.js"],error:[()=>Promise.resolve().then(t.bind(t,20784)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/error.js"],loading:[()=>Promise.resolve().then(t.bind(t,89204)),"/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/loading.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/admin/packages/page.js"],p="/admin/packages/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/packages/page",pathname:"/admin/packages",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},85816:(e,a,t)=>{Promise.resolve().then(t.bind(t,78514))},78514:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>N});var s=t(10326),l=t(17577),r=t(74524),n=t(43346),i=t(45558),d=t(89420),o=t(68592),c=t(27411),p=t(14991);function m({pkg:e,onEdit:a,onDelete:t,onToggleStatus:l,updatingStatus:r}){return(0,s.jsxs)("div",{className:"bg-[#11151c] border border-white/10 rounded-xl p-4 hover:border-teal-600/40 transition shadow-sm",children:[s.jsx("img",{src:e.imageUrl||"/placeholder-package.png",alt:e.name,className:"w-full h-32 object-cover rounded-xl mb-3",loading:"lazy"}),(0,s.jsxs)("div",{className:"min-w-0 mb-2 flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex items-center justify-between gap-2",children:s.jsx("h3",{className:"text-lg font-semibold text-white line-clamp-1",children:e.name})}),(0,s.jsxs)("p",{className:"text-sm text-teal-300 font-semibold",children:[e.price?`$${e.price}`:"Price N/A"," ",e.duration&&`\xb7 ${e.duration}`]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[s.jsx(p.t,{status:e.status}),s.jsx(p.W,{status:e.status,onToggle:()=>l?.(e),disabled:r})]})]}),s.jsx("p",{className:"text-sm text-gray-400 line-clamp-3 mb-4",children:e.shortDescription||"No description."}),Array.isArray(e.departments)&&e.departments.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:e.departments.map(e=>s.jsx("span",{className:"px-2 py-1 bg-slate-800 text-xs rounded text-slate-200 border border-slate-700",children:e.name||e},e._id||e))}),s.jsx("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>a?.(e),className:"p-2 rounded-md bg-slate-800 hover:bg-slate-700 transition",title:"Edit",children:s.jsx(o.Z,{className:"h-5 w-5 text-teal-300"})}),s.jsx("button",{onClick:()=>t?.(e._id),className:"p-2 rounded-md bg-slate-800 hover:bg-rose-700 transition",title:"Delete",children:s.jsx(c.Z,{className:"h-5 w-5 text-rose-300"})})]})})]})}var u=t(6168),x=t(55967),h=t(33265);t(24221);let g=(0,h.default)(async()=>{},{loadableGenerated:{modules:["components/admin/AddPackageModal.js -> react-quill"]},ssr:!1});function b({open:e,onClose:a,onSaved:t}){let r=(0,l.useRef)(null),[n,i]=(0,l.useState)([]),[d,o]=(0,l.useState)([]),[c,p]=(0,l.useState)(!1),[m,h]=(0,l.useState)({name:"",slug:"",price:"",duration:"",treatmentType:"",department:"",shortDescription:"",longDescription:"",included:"",galleryImages:[],promoVideos:[],videoUrl:""}),[b,v]=(0,l.useState)(null),[f,j]=(0,l.useState)(null),[N,y]=(0,l.useState)(!1);if(!e)return null;function w(e){return e.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function k(e){let{name:a,value:t}=e.target;h(e=>{let s={...e,[a]:t};return"name"!==a||c||(s.slug=w(t)),s})}async function C(e){e.preventDefault(),y(!0);try{let e;let s=new FormData;s.append("name",m.name),m.slug&&s.append("slug",m.slug),""!==m.price&&s.append("price",Number(m.price)),""!==m.duration&&(s.append("duration",Number(m.duration)),s.append("durationDays",Number(m.duration))),s.append("shortDescription",m.shortDescription),m.longDescription&&s.append("description",m.longDescription),(m.included||"").split(/[\n,]/).map(e=>e.trim()).filter(Boolean).forEach(e=>s.append("included[]",e)),m.department&&(s.append("department",m.department),s.append("departments",m.department)),m.treatmentType&&s.append("treatmentType",m.treatmentType),b&&s.append("coverImage",b),f&&!b&&s.append("coverImage",f),(m.galleryImages||[]).forEach(e=>{e&&s.append("galleryImages[]",e)});let l=[...m.promoVideos||[]];m.videoUrl&&l.push(m.videoUrl),l.forEach(e=>{e&&s.append("promoVideos[]",e)});let r="http://localhost:5000/api".replace(/\/$/,""),n=await fetch(`${r}/api/packages`,{method:"POST",body:s,credentials:"include"});try{e=await n.json()}catch(a){e=null}if(!n.ok){let a=(0,u.i)({data:e},"Failed to save package");throw Error(a)}t?.(),a?.()}catch(e){alert((0,u.i)(e,"Failed to save package"))}finally{y(!1)}}let D="w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500";return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:(0,s.jsxs)("div",{className:"relative w-full max-w-4xl max-h-[90vh] bg-[#0f131a] border border-white/10 rounded-2xl shadow-2xl flex flex-col",children:[s.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-300 hover:text-white bg-slate-700/40 hover:bg-slate-700 rounded-full p-2 transition",children:"✕"}),(0,s.jsxs)("div",{className:"px-6 pt-6 pb-3 border-b border-slate-800",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Add Package"}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Create a new service package with pricing, departments, and details."})]}),(0,s.jsxs)("form",{onSubmit:C,className:"flex-1 overflow-y-auto px-6 pb-6 pt-4 space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Name"}),s.jsx("input",{name:"name",value:m.name,onChange:k,className:D,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Slug"}),s.jsx("span",{className:"text-xs text-slate-500",children:"Used in URLs. Auto-generated from name."})]}),s.jsx("input",{name:"slug",value:m.slug,onChange:function(e){let a=w(e.target.value);p(!0),h(e=>({...e,slug:a}))},className:D,placeholder:"naturopathy-detox-program"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Price ($)"}),s.jsx("input",{type:"number",name:"price",value:m.price,onChange:k,className:D,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Duration"}),s.jsx("span",{className:"text-xs text-slate-500",children:"(Total days of the treatment package)"})]}),s.jsx("input",{name:"duration",value:m.duration,onChange:k,className:D,placeholder:"e.g., 7, 14, 21"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Treatment Type"}),(0,s.jsxs)("select",{name:"treatmentType",value:m.treatmentType,onChange:k,className:`${D} bg-slate-900`,required:!0,children:[s.jsx("option",{value:"",children:"Select treatment type"}),d.map(e=>s.jsx("option",{value:e._id,children:e.name},e._id))]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Department"}),(0,s.jsxs)("select",{name:"department",value:m.department,onChange:k,className:`${D} bg-slate-900`,required:!0,children:[s.jsx("option",{value:"",children:"Select department"}),n.map(e=>s.jsx("option",{value:e._id,children:e.name},e._id))]})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Short Description"}),s.jsx("input",{name:"shortDescription",value:m.shortDescription,onChange:k,className:D})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Long Description"}),s.jsx("div",{className:"bg-slate-900/40 border border-slate-700 rounded-xl",children:s.jsx(g,{theme:"snow",value:m.longDescription,onChange:e=>h(a=>({...a,longDescription:e}))})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Included (comma or new line)"}),s.jsx("textarea",{name:"included",value:m.included,onChange:k,rows:3,className:`${D} resize-none`,placeholder:`Consultation
Therapy sessions
Diet plan`})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"border-2 border-dashed border-slate-700 bg-slate-900/40 rounded-xl p-4 flex flex-col items-center justify-center text-slate-300 cursor-pointer hover:border-teal-500 transition",onClick:()=>r.current?.click(),onDragOver:e=>e.preventDefault(),onDrop:function(e){e.preventDefault();let a=e.dataTransfer.files?.[0];a&&(v(a),j(URL.createObjectURL(a)))},children:[s.jsx("input",{type:"file",accept:"image/*",ref:r,className:"hidden",onChange:function(e){let a=e.target.files?.[0];a&&(v(a),j(URL.createObjectURL(a)))}}),f?s.jsx("img",{src:f,alt:"Cover preview",className:"w-full max-w-xs h-32 object-cover rounded-lg border border-slate-700"}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Cover image"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Click or drop PNG/JPG"})]})]}),s.jsx(x.Z,{title:"Media",images:m.galleryImages,setImages:e=>h(a=>({...a,galleryImages:e.slice(0,10)})),videos:m.promoVideos,setVideos:e=>h(a=>({...a,promoVideos:e.slice(0,3)})),maxImages:10,maxVideos:3}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"YouTube / Vimeo link (optional)"}),s.jsx("input",{type:"text",value:m.videoUrl,onChange:e=>h(a=>({...a,videoUrl:e.target.value})),placeholder:"Paste a video URL",className:D})]})]})]}),(0,s.jsxs)("div",{className:"mt-auto border-t border-slate-800 bg-[#0b1017] px-6 py-4 flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 rounded-lg bg-slate-800 text-white hover:bg-slate-700 transition",children:"Cancel"}),s.jsx("button",{type:"submit",onClick:C,disabled:N,className:"px-4 py-2 rounded-lg bg-teal-600 text-white hover:bg-teal-500 transition disabled:opacity-70",children:N?"Saving...":"Save Package"})]})]})})}let v=(0,h.default)(async()=>{},{loadableGenerated:{modules:["components/admin/EditPackageModal.js -> react-quill"]},ssr:!1});function f(e=""){return e.toString().toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-")}function j({open:e,onClose:a,onSaved:t,pkg:r}){let n=(0,l.useRef)(null),[i,d]=(0,l.useState)([]),[o,c]=(0,l.useState)([]),[p,m]=(0,l.useState)({name:"",price:"",duration:"",treatmentType:"",department:"",shortDescription:"",longDescription:"",included:"",slug:"",galleryImages:[],promoVideos:[],videoUrl:""}),[h,g]=(0,l.useState)(null),[b,j]=(0,l.useState)(null),[N,y]=(0,l.useState)(!1);if(!e)return null;function w(e){let{name:a,value:t}=e.target;if("name"===a){let e=f(t);m(a=>{let s=f(a.name||""),l=!a.slug||a.slug===s;return{...a,name:t,slug:l?e:a.slug}});return}if("slug"===a){m(e=>({...e,slug:f(t)}));return}m(e=>({...e,[a]:t}))}async function k(e){e.preventDefault(),y(!0);try{let e;let s=p.slug?.trim()?p.slug.trim():f(p.name||"");if(!s)throw Error("Slug is required");let l=new FormData;l.append("name",p.name),l.append("price",p.price),l.append("duration",p.duration),l.append("durationDays",p.duration),l.append("shortDescription",p.shortDescription),l.append("longDescription",p.longDescription),l.append("included",p.included),l.append("slug",s),p.department&&(l.append("department",p.department),l.append("departments",p.department)),p.treatmentType&&l.append("treatmentType",p.treatmentType),h?l.append("coverImage",h):b&&l.append("coverImage",b),(p.galleryImages||[]).forEach(e=>{e&&l.append("galleryImages[]",e)});let n=[...p.promoVideos||[]];p.videoUrl&&n.push(p.videoUrl),n.forEach(e=>{e&&l.append("promoVideos[]",e)});let i="http://localhost:5000/api".replace(/\/$/,""),d=await fetch(`${i}/api/packages/${r?._id}`,{method:"PUT",body:l,credentials:"include"});try{e=await d.json()}catch(a){e=null}if(!d.ok){let a=(0,u.i)({data:e},"Failed to update package");throw Error(a)}t?.(),a?.()}catch(e){alert((0,u.i)(e,"Failed to update package"))}finally{y(!1)}}let C="w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500";return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 px-4 py-8 overflow-y-auto",children:(0,s.jsxs)("div",{className:"relative w-full max-w-4xl max-h-[90vh] bg-[#0f131a] border border-white/10 rounded-2xl shadow-2xl flex flex-col overflow-y-auto",children:[s.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-300 hover:text-white bg-slate-700/40 hover:bg-slate-700 rounded-full p-2 transition",children:"✕"}),(0,s.jsxs)("div",{className:"px-6 pt-6 pb-3 border-b border-slate-800 flex-shrink-0",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Edit Package"}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Update package details."})]}),(0,s.jsxs)("form",{onSubmit:k,className:"flex-1 min-h-0 overflow-y-auto px-6 pb-6 pt-4 space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Name"}),s.jsx("input",{name:"name",value:p.name,onChange:w,className:C,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Slug"}),s.jsx("input",{name:"slug",value:p.slug,onChange:w,className:C,required:!0}),s.jsx("p",{className:"text-xs text-slate-500",children:"Generated from name; you can adjust if needed."})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Price"}),s.jsx("input",{type:"number",name:"price",value:p.price,onChange:w,className:C,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Duration"}),s.jsx("input",{name:"duration",value:p.duration,onChange:w,className:C})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Treatment Type"}),(0,s.jsxs)("select",{name:"treatmentType",value:p.treatmentType,onChange:w,className:`${C} bg-slate-900`,required:!0,children:[s.jsx("option",{value:"",children:"Select treatment type"}),o.map(e=>s.jsx("option",{value:e._id,children:e.name},e._id))]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Department"}),(0,s.jsxs)("select",{name:"department",value:p.department,onChange:w,className:`${C} bg-slate-900`,required:!0,children:[s.jsx("option",{value:"",children:"Select department"}),i.map(e=>s.jsx("option",{value:e._id,children:e.name},e._id))]})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Short Description"}),s.jsx("input",{name:"shortDescription",value:p.shortDescription,onChange:w,className:C})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Long Description"}),s.jsx("div",{className:"bg-slate-900/40 border border-slate-700 rounded-xl",children:s.jsx(v,{theme:"snow",value:p.longDescription,onChange:e=>m(a=>({...a,longDescription:e}))})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Included (comma or new line)"}),s.jsx("textarea",{name:"included",value:p.included,onChange:w,rows:3,className:`${C} resize-none`,placeholder:"Consultation Therapy sessions Diet plan"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"border-2 border-dashed border-slate-700 bg-slate-900/40 rounded-xl p-4 flex flex-col items-center justify-center text-slate-300 cursor-pointer hover:border-teal-500 transition",onClick:()=>n.current?.click(),onDragOver:e=>e.preventDefault(),onDrop:function(e){e.preventDefault();let a=e.dataTransfer.files?.[0];a&&(g(a),j(URL.createObjectURL(a)))},children:[s.jsx("input",{type:"file",accept:"image/*",ref:n,className:"hidden",onChange:function(e){let a=e.target.files?.[0];a&&(g(a),j(URL.createObjectURL(a)))}}),b?s.jsx("img",{src:b,alt:"Preview",className:"w-full max-w-xs h-32 object-cover rounded-lg border border-slate-700"}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Cover image"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Click or drop PNG/JPG"})]})]}),s.jsx(x.Z,{title:"Media",images:p.galleryImages,setImages:e=>m(a=>({...a,galleryImages:e.slice(0,10)})),videos:p.promoVideos,setVideos:e=>m(a=>({...a,promoVideos:e.slice(0,3)})),maxImages:10,maxVideos:3}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"YouTube link (optional)"}),s.jsx("input",{type:"text",value:p.videoUrl,onChange:e=>m(a=>({...a,videoUrl:e.target.value})),placeholder:"Paste a YouTube URL",className:C})]})]})]}),(0,s.jsxs)("div",{className:"mt-auto border-t border-slate-800 bg-[#0b1017] px-6 py-4 flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 rounded-lg bg-slate-800 text-white hover:bg-slate-700 transition",children:"Cancel"}),s.jsx("button",{type:"submit",onClick:k,disabled:N,className:"px-4 py-2 rounded-lg bg-teal-600 text-white hover:bg-teal-500 transition disabled:opacity-70",children:N?"Saving...":"Save Changes"})]})]})})}function N(){let[e,a]=(0,l.useState)([]),[t,o]=(0,l.useState)([]),[c,p]=(0,l.useState)(""),[u,x]=(0,l.useState)(!0),[h,g]=(0,l.useState)(!1),[v,f]=(0,l.useState)(null),[N,y]=(0,l.useState)(null);async function w(){x(!0);try{let e=await (0,d.R1)("/packages?includeDrafts=true"),t=e?.data||e||[];a(t),o(t)}catch(e){console.error("Package fetch error:",e)}x(!1)}async function k(e){if(confirm("Delete this package?"))try{await (0,d.QW)(`/packages/${e}`),a(a=>a.filter(a=>a._id!==e)),o(a=>a.filter(a=>a._id!==e))}catch(e){alert(e.message||"Failed to delete package")}}function C(e,t){a(a=>a.map(a=>a._id===e?{...a,status:t}:a)),o(a=>a.map(a=>a._id===e?{...a,status:t}:a))}async function D(e){let a="published"===e.status?"draft":"published";C(e._id,a),y(e._id);try{await (0,d.nc)(`/packages/${e._id}/status`,{status:a})}catch(a){C(e._id,e.status),alert(a.message||"Failed to update status")}finally{y(null)}}return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("h1",{className:"text-2xl text-white font-semibold flex items-center gap-2",children:[s.jsx(r.Z,{className:"h-7 w-7 text-teal-400"}),"Manage Packages"]}),(0,s.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-500 text-white px-5 py-2 rounded-lg transition",children:[s.jsx(n.Z,{className:"h-5 w-5"}),"Add New Package"]})]}),(0,s.jsxs)("div",{className:"relative w-full sm:w-80",children:[s.jsx(i.Z,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),s.jsx("input",{value:c,onChange:a=>(function(a){p(a);let t=a.toLowerCase();o(e.filter(e=>(e.name||"").toLowerCase().includes(t)||(e.shortDescription||"").toLowerCase().includes(t)))})(a.target.value),placeholder:"Search packages...",className:"bg-[#11151c] border border-white/10 text-white rounded-lg py-3 pl-10 pr-3 w-full outline-none focus:border-teal-500"})]}),u&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6 animate-pulse",children:Array.from({length:6}).map((e,a)=>s.jsx("div",{className:"h-40 bg-slate-800 rounded-xl"},a))}),!u&&0===t.length&&(0,s.jsxs)("div",{className:"text-center py-20 text-gray-400",children:[s.jsx(r.Z,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),s.jsx("p",{children:"No packages found."}),s.jsx("button",{onClick:()=>g(!0),className:"inline-block mt-4 bg-teal-600 hover:bg-teal-500 text-white px-5 py-2 rounded-lg transition",children:"Add First Package"})]}),!u&&t.length>0&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(e=>s.jsx(m,{pkg:e,onDelete:k,onEdit:e=>f(e),onToggleStatus:D,updatingStatus:N===e._id},e._id))}),s.jsx(b,{open:h,onClose:()=>g(!1),onSaved:()=>{g(!1),w()}}),s.jsx(j,{open:!!v,pkg:v,onClose:()=>f(null),onSaved:()=>{f(null),w()}})]})}},55146:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/admin/packages/page.js#default`)},45558:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var s=t(17577);let l=s.forwardRef(function({title:e,titleId:a,...t},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))})},68592:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var s=t(17577);let l=s.forwardRef(function({title:e,titleId:a,...t},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),s.createElement("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"}))})},43346:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var s=t(17577);let l=s.forwardRef(function({title:e,titleId:a,...t},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))})},74524:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var s=t(17577);let l=s.forwardRef(function({title:e,titleId:a,...t},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{fillRule:"evenodd",d:"M5.25 2.25a3 3 0 0 0-3 3v4.318a3 3 0 0 0 .879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 0 0 5.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 0 0-2.122-.879H5.25ZM6.375 7.5a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z",clipRule:"evenodd"}))})},27411:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var s=t(17577);let l=s.forwardRef(function({title:e,titleId:a,...t},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))})}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[8948,829,9143,5092,713],()=>t(93339));module.exports=s})();