exports.id=969,exports.ids=[969],exports.modules={82345:(e,a,t)=>{Promise.resolve().then(t.bind(t,69339))},69339:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>f});var s=t(10326),l=t(90434),r=t(35047),n=t(17577),i=t(60982),o=t(99731),c=t(8566),d=t(60531),m=t(69712),x=t(73891),h=t(93445),p=t(34899),u=t(14526),b=t(49634),g=t(55469);function f({children:e}){let a=(0,r.usePathname)();(0,r.useRouter)();let{user:t,loading:f,logout:j}=(0,g.a)(),[N,y]=(0,n.useState)({retreatBookings:0,healthPackages:0,healthPrograms:0,courses:0}),v=[{href:"/admin",label:"Dashboard",icon:i.Z},{href:"/admin/departments",label:"Departments",icon:o.Z},{href:"/admin/doctors",label:"Doctors",icon:c.Z},{label:"Appointments",icon:d.Z,children:[{href:"/admin/appointments",label:"General"},{href:"/admin/appointments/calendar",label:"Calendar"}]},{href:"/admin/blogs",label:"Blog Articles",icon:m.Z},{href:"/admin/reviews",label:"Patient Reviews",icon:m.Z},{href:"/admin/gallery",label:"Gallery",icon:x.Z},{href:"/admin/hero-images",label:"Hero Banner Images",icon:x.Z},{label:"Health Packages",icon:h.Z,countKey:"healthPackages",children:[{href:"/admin/packages",label:"Manage Packages"},{href:"/admin/package-bookings",label:"Package Bookings",countKey:"healthPackages"},{href:"/admin/package-bookings/calendar",label:"Calendar"},{href:"/admin/treatment-types",label:"Treatment Types"}]},{label:"Retreat Program",icon:p.Z,countKey:"retreatBookings",children:[{href:"/admin/retreat-programs",label:"Manage Programs"},{href:"/admin/retreat-destinations",label:"Retreat Destinations"},{href:"/admin/retreat-partner-hotels",label:"Partner Hotels"},{href:"/admin/retreat-bookings",label:"Retreat Bookings",countKey:"retreatBookings"}]},{label:"Health Programs",icon:h.Z,countKey:"healthPrograms",children:[{href:"/admin/health-programs",label:"Manage Programs"},{href:"/admin/health-program-bookings",label:"Health Program Bookings",countKey:"healthPrograms"}]},{label:"Courses",icon:o.Z,countKey:"courses",children:[{href:"/admin/courses",label:"Manage Courses"},{href:"/admin/course-categories",label:"Course Categories"},{href:"/admin/course-bookings",label:"Course Bookings",countKey:"courses"}]},{href:"/admin/billing",label:"Billing",icon:u.Z}],w="/admin/login"===a,[k,P]=(0,n.useState)(()=>{let e={};return v.forEach(t=>{t.children&&(e[t.label]=t.children.some(e=>a.startsWith(e.href)))}),e});if(!w&&(f||!t&&!f))return s.jsx("div",{className:"p-6",children:"Loading admin..."});if(w)return e;let C=e=>a===e?"bg-teal-600 text-white":"text-slate-300 hover:bg-slate-800",Z=e=>e?s.jsx("span",{className:"absolute -top-2 -right-2 min-w-[20px] px-1.5 h-5 rounded-full bg-rose-600 text-white text-[10px] font-semibold flex items-center justify-center shadow-lg transition-opacity",children:e>99?"99+":e}):null;return(0,s.jsxs)("div",{className:"min-h-screen bg-slate-950 text-slate-100 flex",children:[(0,s.jsxs)("aside",{className:"hidden md:flex md:flex-col w-64 bg-slate-900 border-r border-slate-800",children:[s.jsx("div",{className:"h-16 flex items-center px-6 border-b border-slate-800",children:(0,s.jsxs)(l.default,{href:"/admin",className:"flex items-center gap-2",children:[s.jsx("img",{src:"/images/logo.png",alt:"Logo",className:"h-9 w-9 rounded-md object-cover"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-semibold tracking-tight",children:"Admin Panel"}),s.jsx("span",{className:"text-xs text-slate-400",children:"Annapurna Nature Cure"})]})]})}),s.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:v.map(e=>{let a=e.icon;if(e.children){let t=k[e.label];return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{var a;return a=e.label,void P(e=>({...e,[a]:!e[a]}))},className:`relative w-full flex items-center justify-between gap-3 px-3 py-2 rounded-lg text-sm transition ${t?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(a,{className:"h-5 w-5"}),(0,s.jsxs)("span",{className:"relative inline-block",children:[e.label,Z(e.countKey?N[e.countKey]:0)]})]}),s.jsx("span",{className:"text-xs text-slate-400",children:t?"−":"+"})]}),t&&s.jsx("div",{className:"pl-9 space-y-1",children:e.children.map(e=>s.jsx(l.default,{href:e.href,className:`relative flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition ${C(e.href)}`,children:(0,s.jsxs)("span",{className:"relative inline-block",children:[e.label,Z(e.countKey?N[e.countKey]:0)]})},e.href))})]},e.label)}return(0,s.jsxs)(l.default,{href:e.href,className:`relative flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition ${C(e.href)}`,children:[s.jsx(a,{className:"h-5 w-5"}),(0,s.jsxs)("span",{className:"relative inline-block",children:[e.label,Z(e.countKey?N[e.countKey]:0)]})]},e.href)})}),s.jsx("div",{className:"border-t border-slate-800 p-4",children:(0,s.jsxs)("button",{type:"button",onClick:j,className:"w-full inline-flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm bg-slate-800 hover:bg-slate-700 text-slate-200",children:[s.jsx(b.Z,{className:"h-5 w-5"}),s.jsx("span",{children:"Logout"})]})})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,s.jsxs)("header",{className:"h-16 flex items-center justify-between px-4 md:px-6 border-b border-slate-800 bg-slate-900/80 backdrop-blur",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Admin dashboard"}),s.jsx("h1",{className:"text-sm md:text-base font-semibold text-slate-50",children:function(){for(let e of v){if(e.href&&a.startsWith(e.href))return e.label;if(e.children){for(let t of e.children)if(a.startsWith(t.href))return t.label}}return"Overview"}()})]}),s.jsx("div",{className:"text-xs text-slate-300",children:t?.email?`Logged in as ${t.email}`:""})]}),s.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-950",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 md:px-6 py-6 md:py-8",children:e})})]})]})}t(89420)},20802:(e,a,t)=>{"use strict";t.d(a,{Z:()=>p});var s=t(10326),l=t(17577),r=t(35271),n=t(28818),i=t(86457),o=t(17458),c=t(89420),d=t(32690);function m({selected:e,onChange:a,className:t="",calendarClassName:l="",popperClassName:r="",...n}){return s.jsx(d.ZP,{selected:e,onChange:a,dateFormat:"dd/MM/yyyy",className:t,popperPlacement:"top",popperClassName:`date-popper z-50 ${r}`,calendarClassName:`custom-datepicker rounded-xl shadow-xl border border-neutral-300 p-3 text-black bg-white ${l}`,...n})}t(82094),t(53861);var x=t(6168);function h({label:e,value:a,onChange:t,options:l=[],placeholder:o}){return(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:e}),s.jsx(r.Ri,{value:a,onChange:t,children:(0,s.jsxs)("div",{className:"relative mt-1",children:[(0,s.jsxs)(r.Ri.Button,{className:"relative w-full cursor-pointer rounded-xl bg-slate-800 border border-slate-700 px-4 py-3 pr-10 text-left text-white focus:outline-none focus:ring-2 focus:ring-teal-500",children:[s.jsx("span",{children:a||o||`Select ${e}`}),s.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:s.jsx(n.Z,{className:"h-5 w-5 text-gray-400"})})]}),(0,s.jsxs)(r.Ri.Options,{className:"absolute mt-2 max-h-60 w-full overflow-auto rounded-xl bg-slate-900 shadow-xl border border-slate-700 text-white focus:outline-none z-30",children:[l.map((e,a)=>s.jsx(r.Ri.Option,{value:e,className:({active:e})=>`cursor-pointer select-none px-4 py-2 ${e?"bg-teal-700/70 text-white":"text-gray-200"}`,children:({selected:a})=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:a?"font-semibold":"",children:e}),a&&s.jsx(i.Z,{className:"h-5 w-5 text-teal-300"})]})},a)),0===l.length&&s.jsx("div",{className:"px-4 py-2 text-sm text-slate-400",children:"No options"})]})]})})]})}function p({open:e,onClose:a,onSaved:t,initialData:r}){let[n,i]=(0,l.useState)([]),[d,p]=(0,l.useState)([]),[u,b]=(0,l.useState)({patientName:"",patientEmail:"",patientPhone:"",service:"",doctor:"",time:"",ampm:"AM",message:""}),[g,f]=(0,l.useState)(null),[j,N]=(0,l.useState)(""),y="w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-teal-500";if(!e)return null;function v(e){b({...u,[e.target.name]:e.target.value})}async function w(e){e.preventDefault();let s=g?(0,o.WU)(g,"yyyy-MM-dd"):"";if(!s){alert("Please select a date.");return}let l=u.time?`${u.time} ${u.ampm}`:"";try{await (0,c.sg)("/appointments",{patientName:u.patientName,patientEmail:u.patientEmail,patientPhone:u.patientPhone,service:u.service,doctor:u.doctor,date:s,time:l,message:u.message}),N("Appointment saved"),t(),setTimeout(()=>a(),500)}catch(e){console.error(e),alert((0,x.i)(e,"Error saving appointment"))}}return s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 px-4",children:(0,s.jsxs)("div",{className:"relative w-full max-w-2xl max-h-[90vh] bg-[#0d1218] border border-slate-800 rounded-2xl shadow-2xl flex flex-col",children:[j&&s.jsx("div",{className:"absolute left-5 top-4 bg-teal-600/15 border border-teal-500/50 text-teal-200 px-3 py-2 rounded-lg text-sm shadow",children:j}),s.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-300 hover:text-white bg-slate-700/40 hover:bg-slate-700 rounded-full p-2 transition",children:"✕"}),(0,s.jsxs)("div",{className:"px-6 pt-6 pb-3 border-b border-slate-800",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Add Appointment"}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Create a new booking with patient and schedule details."})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6 pt-4 space-y-5",children:(0,s.jsxs)("form",{id:"add-appointment-form",onSubmit:w,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Patient"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Patient Name"}),s.jsx("input",{name:"patientName",required:!0,onChange:v,className:y})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Email"}),s.jsx("input",{type:"email",name:"patientEmail",onChange:v,className:y})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Phone"}),s.jsx("input",{name:"patientPhone",required:!0,onChange:v,className:y})]}),s.jsx("div",{className:"space-y-1",children:s.jsx(h,{label:"Department",value:u.service,onChange:e=>b({...u,service:e}),options:d.map(e=>e.name),placeholder:"Choose department"})})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Appointment"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(h,{label:"Doctor",value:u.doctor,onChange:e=>b({...u,doctor:e}),options:n.map(e=>e.name),placeholder:"Select doctor"}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Preferred Date"}),s.jsx("div",{className:"relative",children:s.jsx(m,{selected:g,onChange:e=>f(e),className:y,calendarClassName:"custom-datepicker",popperClassName:"date-popper",shouldCloseOnSelect:!0,required:!0})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Preferred Time"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[s.jsx("input",{type:"time",name:"time",required:!0,onChange:v,className:`${y} flex-1`}),s.jsx("div",{className:"flex rounded-xl border border-slate-700 overflow-hidden",children:["AM","PM"].map(e=>s.jsx("button",{type:"button",onClick:()=>b({...u,ampm:e}),className:`px-4 py-3 text-sm font-medium transition ${u.ampm===e?"bg-teal-600 text-white":"bg-slate-800 text-slate-200 hover:bg-slate-700"}`,children:e},e))})]})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-sm text-slate-300",children:"Message / Notes"}),s.jsx("textarea",{name:"message",rows:3,onChange:v,className:`${y} resize-none`,placeholder:"Additional details, symptoms, or notes"})]})]})]})}),(0,s.jsxs)("div",{className:"mt-auto border-t border-slate-800 bg-[#0b1017] px-6 py-4 flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 rounded-lg bg-slate-800 text-white hover:bg-slate-700 transition",children:"Cancel"}),s.jsx("button",{type:"submit",form:"add-appointment-form",className:"px-4 py-2 rounded-lg bg-teal-600 text-white hover:bg-teal-500 transition",children:"Save Appointment"})]})]})})}},6168:(e,a,t)=>{"use strict";function s(e,a="Something went wrong"){if(!e)return a;let t=e.response?.data||e.data;if(t?.errors&&"object"==typeof t.errors){let e=Object.values(t.errors).flatMap(e=>Array.isArray(e?._errors)?e._errors:[]).filter(Boolean);if(e.length)return e.join(", ")}return t?.message?t.message:"string"==typeof e?e:e.message?e.message:a}t.d(a,{i:()=>s})},5986:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`/Users/bibekaryal/Downloads/AnnapurnaHostipal-Nakhu/frontend/app/admin/layout.js#default`)},53861:()=>{}};